import{b as Ma,w as Oa,r as La,m as ja,C as Eo,y as Mo,l as Ca,o as Ra}from"./eo-dash.TzuYtzQL.js";import"./framework.CjlT-qPU.js";var Pa=Object.defineProperty,ls=t=>{throw TypeError(t)},Ta=(t,e,r)=>e in t?Pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qn=(t,e,r)=>Ta(t,typeof e!="symbol"?e+"":e,r),ho=(t,e,r)=>e.has(t)||ls("Cannot "+r),tt=(t,e,r)=>(ho(t,e,"read from private field"),r?r.call(t):e.get(t)),Ze=(t,e,r)=>e.has(t)?ls("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ai=(t,e,r,n)=>(ho(t,e,"write to private field"),e.set(t,r),r),le=(t,e,r)=>(ho(t,e,"access private method"),r);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jn=globalThis,po=jn.ShadowRoot&&(jn.ShadyCSS===void 0||jn.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cs=Symbol(),Oo=new WeakMap;let Da=class{constructor(t,e,r){if(this._$cssResult$=!0,r!==cs)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(po&&t===void 0){const r=e!==void 0&&e.length===1;r&&(t=Oo.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&Oo.set(e,t))}return t}toString(){return this.cssText}};const Ia=t=>new Da(typeof t=="string"?t:t+"",void 0,cs),Na=(t,e)=>{if(po)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=jn.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},Lo=po?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Ia(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Fa,defineProperty:Ha,getOwnPropertyDescriptor:Ba,getOwnPropertyNames:za,getOwnPropertySymbols:qa,getPrototypeOf:Ua}=Object,yr=globalThis,jo=yr.trustedTypes,Wa=jo?jo.emptyScript:"",ki=yr.reactiveElementPolyfillSupport,Yr=(t,e)=>t,Ni={toAttribute(t,e){switch(e){case Boolean:t=t?Wa:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},us=(t,e)=>!Fa(t,e),Co={attribute:!0,type:String,converter:Ni,reflect:!1,hasChanged:us};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),yr.litPropertyMetadata??(yr.litPropertyMetadata=new WeakMap);class fr extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=Co){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&Ha(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:o}=Ba(this.prototype,e)??{get(){return this[r]},set(s){this[r]=s}};return{get(){return i==null?void 0:i.call(this)},set(s){const l=i==null?void 0:i.call(this);o.call(this,s),this.requestUpdate(e,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Co}static _$Ei(){if(this.hasOwnProperty(Yr("elementProperties")))return;const e=Ua(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Yr("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Yr("properties"))){const r=this.properties,n=[...za(r),...qa(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(Lo(i))}else e!==void 0&&r.push(Lo(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Na(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$EC(e,r){var n;const i=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,i);if(o!==void 0&&i.reflect===!0){const s=(((n=i.converter)==null?void 0:n.toAttribute)!==void 0?i.converter:Ni).toAttribute(r,i.type);this._$Em=e,s==null?this.removeAttribute(o):this.setAttribute(o,s),this._$Em=null}}_$AK(e,r){var n;const i=this.constructor,o=i._$Eh.get(e);if(o!==void 0&&this._$Em!==o){const s=i.getPropertyOptions(o),l=typeof s.converter=="function"?{fromAttribute:s.converter}:((n=s.converter)==null?void 0:n.fromAttribute)!==void 0?s.converter:Ni;this._$Em=o,this[o]=l.fromAttribute(r,s.type),this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){if(n??(n=this.constructor.getPropertyOptions(e)),!(n.hasChanged??us)(this[e],r))return;this.P(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,r,n){this._$AL.has(e)||this._$AL.set(e,r),n.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[o,s]of this._$Ep)this[o]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[o,s]of i)s.wrapped!==!0||this._$AL.has(o)||this[o]===void 0||this.P(o,this[o],s)}let r=!1;const n=this._$AL;try{r=this.shouldUpdate(n),r?(this.willUpdate(n),(e=this._$EO)==null||e.forEach(i=>{var o;return(o=i.hostUpdate)==null?void 0:o.call(i)}),this.update(n)):this._$EU()}catch(i){throw r=!1,this._$EU(),i}r&&this._$AE(n)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(e){}firstUpdated(e){}}fr.elementStyles=[],fr.shadowRootOptions={mode:"open"},fr[Yr("elementProperties")]=new Map,fr[Yr("finalized")]=new Map,ki==null||ki({ReactiveElement:fr}),(yr.reactiveElementVersions??(yr.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Pn=globalThis,Tn=Pn.trustedTypes,Ro=Tn?Tn.createPolicy("lit-html",{createHTML:t=>t}):void 0,fo="$lit$",wt=`lit$${Math.random().toFixed(9).slice(2)}$`,go="?"+wt,Va=`<${go}>`,Yt=document,Kr=()=>Yt.createComment(""),Gr=t=>t===null||typeof t!="object"&&typeof t!="function",mo=Array.isArray,hs=t=>mo(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",Ei=`[ 	
\f\r]`,Hr=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Po=/-->/g,To=/>/g,qt=RegExp(`>|${Ei}(?:([^\\s"'>=/]+)(${Ei}*=${Ei}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Do=/'/g,Io=/"/g,ds=/^(?:script|style|textarea|title)$/i,Ya=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),G=Ya(1),Mt=Symbol.for("lit-noChange"),ge=Symbol.for("lit-nothing"),No=new WeakMap,Vt=Yt.createTreeWalker(Yt,129);function ps(t,e){if(!mo(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ro!==void 0?Ro.createHTML(e):e}const fs=(t,e)=>{const r=t.length-1,n=[];let i,o=e===2?"<svg>":e===3?"<math>":"",s=Hr;for(let l=0;l<r;l++){const c=t[l];let h,p,m=-1,x=0;for(;x<c.length&&(s.lastIndex=x,p=s.exec(c),p!==null);)x=s.lastIndex,s===Hr?p[1]==="!--"?s=Po:p[1]!==void 0?s=To:p[2]!==void 0?(ds.test(p[2])&&(i=RegExp("</"+p[2],"g")),s=qt):p[3]!==void 0&&(s=qt):s===qt?p[0]===">"?(s=i??Hr,m=-1):p[1]===void 0?m=-2:(m=s.lastIndex-p[2].length,h=p[1],s=p[3]===void 0?qt:p[3]==='"'?Io:Do):s===Io||s===Do?s=qt:s===Po||s===To?s=Hr:(s=qt,i=void 0);const b=s===qt&&t[l+1].startsWith("/>")?" ":"";o+=s===Hr?c+Va:m>=0?(n.push(h),c.slice(0,m)+fo+c.slice(m)+wt+b):c+wt+(m===-2?l:b)}return[ps(t,o+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class Zr{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let o=0,s=0;const l=e.length-1,c=this.parts,[h,p]=fs(e,r);if(this.el=Zr.createElement(h,n),Vt.currentNode=this.el.content,r===2||r===3){const m=this.el.content.firstChild;m.replaceWith(...m.childNodes)}for(;(i=Vt.nextNode())!==null&&c.length<l;){if(i.nodeType===1){if(i.hasAttributes())for(const m of i.getAttributeNames())if(m.endsWith(fo)){const x=p[s++],b=i.getAttribute(m).split(wt),_=/([.?@])?(.*)/.exec(x);c.push({type:1,index:o,name:_[2],strings:b,ctor:_[1]==="."?ys:_[1]==="?"?bs:_[1]==="@"?vs:en}),i.removeAttribute(m)}else m.startsWith(wt)&&(c.push({type:6,index:o}),i.removeAttribute(m));if(ds.test(i.tagName)){const m=i.textContent.split(wt),x=m.length-1;if(x>0){i.textContent=Tn?Tn.emptyScript:"";for(let b=0;b<x;b++)i.append(m[b],Kr()),Vt.nextNode(),c.push({type:2,index:++o});i.append(m[x],Kr())}}}else if(i.nodeType===8)if(i.data===go)c.push({type:2,index:o});else{let m=-1;for(;(m=i.data.indexOf(wt,m+1))!==-1;)c.push({type:7,index:o}),m+=wt.length-1}o++}}static createElement(e,r){const n=Yt.createElement("template");return n.innerHTML=e,n}}function Kt(t,e,r=t,n){var i,o;if(e===Mt)return e;let s=n!==void 0?(i=r.o)==null?void 0:i[n]:r.l;const l=Gr(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==l&&((o=s==null?void 0:s._$AO)==null||o.call(s,!1),l===void 0?s=void 0:(s=new l(t),s._$AT(t,r,n)),n!==void 0?(r.o??(r.o=[]))[n]=s:r.l=s),s!==void 0&&(e=Kt(t,s._$AS(t,e.values),s,n)),e}class gs{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??Yt).importNode(r,!0);Vt.currentNode=i;let o=Vt.nextNode(),s=0,l=0,c=n[0];for(;c!==void 0;){if(s===c.index){let h;c.type===2?h=new Un(o,o.nextSibling,this,e):c.type===1?h=new c.ctor(o,c.name,c.strings,this,e):c.type===6&&(h=new xs(o,this,e)),this._$AV.push(h),c=n[++l]}s!==(c==null?void 0:c.index)&&(o=Vt.nextNode(),s++)}return Vt.currentNode=Yt,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}let Un=class ms{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this.v}constructor(e,r,n,i){this.type=2,this._$AH=ge,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this.v=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Kt(this,e,r),Gr(e)?e===ge||e==null||e===""?(this._$AH!==ge&&this._$AR(),this._$AH=ge):e!==this._$AH&&e!==Mt&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):hs(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ge&&Gr(this._$AH)?this._$AA.nextSibling.data=e:this.T(Yt.createTextNode(e)),this._$AH=e}$(e){var r;const{values:n,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Zr.createElement(ps(i.h,i.h[0]),this.options)),i);if(((r=this._$AH)==null?void 0:r._$AD)===o)this._$AH.p(n);else{const s=new gs(o,this),l=s.u(this.options);s.p(n),this.T(l),this._$AH=s}}_$AC(e){let r=No.get(e.strings);return r===void 0&&No.set(e.strings,r=new Zr(e)),r}k(e){mo(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const o of e)i===r.length?r.push(n=new ms(this.O(Kr()),this.O(Kr()),this,this.options)):n=r[i],n._$AI(o),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this.v=e,(r=this._$AP)==null||r.call(this,e))}};class en{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,o){this.type=1,this._$AH=ge,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ge}_$AI(e,r=this,n,i){const o=this.strings;let s=!1;if(o===void 0)e=Kt(this,e,r,0),s=!Gr(e)||e!==this._$AH&&e!==Mt,s&&(this._$AH=e);else{const l=e;let c,h;for(e=o[0],c=0;c<o.length-1;c++)h=Kt(this,l[n+c],r,c),h===Mt&&(h=this._$AH[c]),s||(s=!Gr(h)||h!==this._$AH[c]),h===ge?e=ge:e!==ge&&(e+=(h??"")+o[c+1]),this._$AH[c]=h}s&&!i&&this.j(e)}j(e){e===ge?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ys extends en{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ge?void 0:e}}class bs extends en{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ge)}}class vs extends en{constructor(e,r,n,i,o){super(e,r,n,i,o),this.type=5}_$AI(e,r=this){if((e=Kt(this,e,r,0)??ge)===Mt)return;const n=this._$AH,i=e===ge&&n!==ge||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==ge&&(n===ge||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class xs{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Kt(this,e)}}const Ka={M:fo,P:wt,A:go,C:1,L:fs,R:gs,D:hs,V:Kt,I:Un,H:en,N:bs,U:vs,B:ys,F:xs},Mi=Pn.litHtmlPolyfillSupport;Mi==null||Mi(Zr,Un),(Pn.litHtmlVersions??(Pn.litHtmlVersions=[])).push("3.2.0");const Ga=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const o=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new Un(e.insertBefore(Kr(),o),o,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Je extends fr{constructor(){super(...arguments),this.renderOptions={host:this},this.o=void 0}createRenderRoot(){var e;const r=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=r.firstChild),r}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this.o=Ga(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this.o)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.o)==null||e.setConnected(!1)}render(){return Mt}}var Fo;Je._$litElement$=!0,Je.finalized=!0,(Fo=globalThis.litElementHydrateSupport)==null||Fo.call(globalThis,{LitElement:Je});const Oi=globalThis.litElementPolyfillSupport;Oi==null||Oi({LitElement:Je});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.0");/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*Wn(t,e){if(t!==void 0){let r=0;for(const n of t)yield e(n,r++)}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Ue(t,e,r){return t?e(t):r==null?void 0:r(t)}const Za=`
:host {
  display: flex;
  box-sizing: border-box;
  height: 100%;
  line-height: 1;
}
*,
*:before,
*:after {
  box-sizing: inherit;
}
form#itemfilter {
  height: 100%;
  width: 100%;
  max-width: 100%;
  display: flex;
  flex-direction: column;
}
form#itemfilter:not(.inline) {
  overflow-y: auto;
}
details {
  width: 100%;
}
`,tn=`
:host, :root {
  --item-color: color-mix(
    in srgb,
    var(--primary-color) 10%,
    transparent
  );
  --item-hover-color: color-mix(
    in srgb,
    var(--secondary-color) 30%,
    transparent
  );
  --item-select-color: var(--primary-color);
  --inline-bg-color: color-mix(
    in srgb,
    var(--secondary-color) 10%,
    transparent
  );
  --border-color: color-mix(
    in srgb,
    #000000 20%,
    transparent
  );
  --background-color: #fff;
}
* {
  font-family: Roboto, sans-serif;
}
ul {
  padding-left: 0;
  margin-top: 0;
}
li {
  list-style: none;
}
li span {
  text-overflow: ellipsis;
  white-space: nowrap;
}
li label {
  display: flex;
  align-items: center;
}
details summary > * {
  display: inline;
}
details summary {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #0002;
  padding: .5rem 0;
}

details > summary::-webkit-details-marker {
  display: none;
}

.title {
  font-size: 13px;
  align-items: center;
  text-transform: capitalize;
}
.subtitle {
  font-size: 11px;
  opacity: .7;
  margin-top: 6px;
}
.title-container {
  display: flex;
  flex-direction: column;
}
h6.main-heading {
  font-size: 1rem;
  margin-block-start: 1.33em;
  margin-block-end: 1.33em;
  margin-top: 8px;
}
details summary .title {
  display: flex;
  font-weight: 500;
}
details.details-filter summary::after,
details.details-results summary::before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%230009' viewBox='0 0 24 24'%3E%3Ctitle%3Echevron-right%3C/title%3E%3Cpath d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z' /%3E%3C/svg%3E");
  height: 24px;
  width: 24px;
}
details.details-filter summary::after {
  position: absolute;
  right: 8px;
  transform: rotate(90deg);
}
details[open] summary::before {
  transform: rotate(90deg);
}
details[open] summary::after {
  transform: rotate(270deg);
}
eox-itemfilter-expandcontainer {
  max-height: 200px;
}
eox-itemfilter-expandcontainer > [data-type=filter] {
  display: block;
  height: calc(100% - 32px);
  overflow-y: auto;
}
[data-type=filter] .title,
details summary {
  text-transform: capitalize;
}
li,
label,
details,
input[type="checkbox"],
input[type="radio"] {
  cursor: pointer;
}
input[type="checkbox"],
input[type="radio"] {
  margin: 0;
}
input[type="text"] {
  box-sizing: border-box;
  width: 100%;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 5px 7px;
  border-radius: 4px;
  border: 1px solid var(--border-color);
}
section:not(section:last-of-type) {
  margin-bottom: 1rem;
}
#section-results {
  overflow: hidden;
  flex: 1;
  display: flex;
  flex-direction: column;
}
ul:not(#filters) > li {
  padding: 5px 10px;
}
section {
  position: relative;
  background-color: var(--background-color);
}
button#filter-reset {
  position: absolute;
  top: 4px;
  right: 4px;
  padding: 2px 10px;
}
.count {
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--secondary-color);
  padding: 0 12px;
  height: 20px;
  border-radius: 10px;
  color: var(--primary-color);
  font-weight: 500;
  margin-left: 9px;
}
eox-itemfilter-range,
tc-range-slider {
  align-items: center;
  display: block;
  padding-left: 0.6rem;
}
.range-before,
.range-after {
  font-size: small;
}
.range-before,
.range-after {
  margin: 1rem 0px;
}

button.reset-icon:before {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eclose%3C/title%3E%3Cpath d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E");
}
eox-itemfilter-expandcontainer button.reset-icon {
  margin-left: 4px;
  margin-top: -5px;
  height: 14px;
  width: 14px;
}
eox-itemfilter-expandcontainer button.reset-icon:before {
  height: 14px;
  width: 14px;
}
.inline-content {
  border: 1.5px solid var(--secondary-color);
  border-radius: 4px;
  max-height: 300px;
  overflow-y: auto;
  background: var(--inline-bg-color);
  margin-top: 4px;
  padding: 8px;
}
.inline-container {
  position: relative;
  align-items: center;
}
.inline-container-wrapper {
  width: 100%;
  position: relative;
}
.inline-container {
  position: relative;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  height: 24px;
  padding: 8px;
  flex: 1;
  justify-content: space-between;
  cursor: text;
  transition: all 0.2s ease-in-out;
  display: flex;
}
.inline-container:hover {
  border: 1px solid var(--primary-color);
}
[popover] {
  position: fixed;
  top: 0;
  left: 0;
  margin: 0;
  padding: 0;
  background-color: var(--background-color);
  border: none;
}
.input-container {
  display: flex;
  flex: 1;
  align-items: center;
}
.input-container input,
.input-container input:focus {
  height: 100%;
  border: none;
  outline: none;
  border: 0;
  min-width: 25%;
}
.button-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  right: 1px;
  top: 5px;
  height: calc(100% - 10px);
  width: 34px;
  background: white;
}
button.icon {
  color: #004170;
  height: 24px;
  font-size: large;
  width: unset;
}
.inline-container::-webkit-scrollbar {
  height: 2px;
}
.inline-container::-webkit-scrollbar-thumb {
  background: lightgrey;
  border-radius: 2px;
}
.hidden {
  height: 0;
  padding: 0;
  border: none;
}
.hidden:hover {
  border: none;
}
.chip-title {
  pointer-events: none;
  text-transform: capitalize;
}
.chip {
  display: flex;
  align-items: center;
  background: var(--item-color);
  border-radius: 30px;
  margin-right: 4px;
  padding: 5px 10px;
  font-size: small;
  cursor: default;
  white-space: nowrap;
}
.chip.highlighted {
  background: var(--primary-color);
  color: white;
}
.chip-close {
  cursor: pointer;
  font-weight: 600;
  position: absolute;
  right: -25px;
  background: white;
  top: 0;
  height: 100%;
  display: flex;
  align-items: center;
  height: 24px;
  width: 24px;
}
.chip-close:before {
  position: absolute;
  text-indent: 0;
  line-height: initial;
  height: 24px;
  width: 24px;
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eclose%3C/title%3E%3Cpath d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z' /%3E%3C/svg%3E");
}
.chip-container {
  position: relative;
  max-width: 75%;
}
.autocomplete-container,
.text-container {
  position: relative;
  align-items: center;
  width: 100%;
  box-sizing: border-box;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  justify-content: space-between;
  cursor: text;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  background: white;
}
.autocomplete-container:hover,
.text-container:hover {
  border: 1px solid var(--primary-color);
}
.autocomplete-container-wrapper,
.text-container-wrapper {
  padding: 6px;
  position: relative;
  display: flex;
  align-items: center;
  flex: 1;
  overflow-x: auto;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.autocomplete-container-wrapper::-webkit-scrollbar {
  display: none;
}
.chip-wrapper {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.chip-wrapper::-webkit-scrollbar {
  display: none;
  width: 0;
  background: transparent;
}
.autocomplete-input,
.text-input {
  flex: 1;
  border: none !important;
  outline: none;
  box-sizing: border-box;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding: 3px 0px !important;
  min-width: 150px;
  border-radius: 4px;
}
.selected-items {
  display: flex;
  flex-wrap: nowrap;
  gap: 4px;
}
.select li:hover,
.multiselect li:hover,
eox-itemfilter-results li:hover {
  background: var(--item-hover-color);
}
eox-itemfilter-results li.highlighted {
  color: var(--background-color);
  background: var(--item-select-color);
}
.selected-item span {
  margin-right: 8px;
}
.selected-item button {
  background: none;
  border: none;
  color: #fff;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
}
.multiselect-container,
.select-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.multiselect-container label,
.select-container label {
  display: flex;
  align-items: center;
  cursor: pointer;
}
.multiselect-container input,
.select-container input {
  margin-right: 8px;
}
.select-overflow {
  max-height: 185px;
  overflow-y: auto;
}
.chip-title strong {
  font-weight: 500;
}
.chip-wrapper {
  max-width: 100%;
  overflow-x: scroll;
}
.chip-container {
  display: flex;
  flex: 0;
}
.input-container.dirty-filter-input {
  margin-left: 25px;
}
`,Xa=`:root,:host { --spacing: 1rem; --block-spacing-vertical: calc(var(--spacing) * 2); --block-spacing-horizontal: var(--spacing); --background-color: var(--eox-background-color, white); --color: var(--eox-color, #2c3d49); --h-color: var(--eox-h-color, var(--color)); --hover-transparency: var(--eox-hover-transparency, 20%); --bg-hover-transparency: var(--eox-bg-hover-transparency, 40%); --btn-hover-transparency: var(--eox-btn-hover-transparency, 80%); --primary-color: var(--eox-primary-color, #004170); --primary-color-hover: color-mix( in srgb, var(--primary-color) var(--hover-transparency), transparent ); --primary-bg-color-hover: color-mix( in srgb, var(--primary-color) var(--bg-hover-transparency), transparent ); --primary-btn-color-hover: color-mix( in srgb, var(--primary-color) var(--btn-hover-transparency), transparent ); --secondary-color: var(--eox-secondary-color, #c6d4df); --secondary-color-hover: color-mix( in srgb, var(--secondary-color) var(--hover-transparency), transparent ); --secondary-bg-color-hover: color-mix( in srgb, var(--secondary-color) var(--bg-hover-transparency), transparent ); --secondary-btn-color-hover: color-mix( in srgb, var(--secondary-color) var(--btn-hover-transparency), transparent ); --success: var(--eox-success, #26cc0f); --warning: var(--eox-warning, #f18e32); --error: var(--eox-error, #ff5252); --header-font-family: var(--eox-header-font-family, "Roboto", sans-serif); --body-font-family: var(--eox-body-font-family, "Roboto", sans-serif);}* { font-size: normal; font-family: var(--body-font-family); color: var(--eox-color);}h1,h2,h3,h4,h5,h6 { font-family: var(--header-font-family);}span,p,div,main,label { font-family: var(--body-font-family);}@media (min-width: 576px) { .container { max-width: 510px; padding-right: 0; padding-left: 0; --block-spacing-vertical: calc(var(--spacing) * 2.5); }}@media (min-width: 768px) { .container { max-width: 700px; --block-spacing-vertical: calc(var(--spacing) * 3); }}@media (min-width: 992px) { .container { max-width: 920px; --block-spacing-vertical: calc(var(--spacing) * 3.5); }}@media (min-width: 1200px) { .container { max-width: 1130px; --block-spacing-vertical: calc(var(--spacing) * 4); }}.container { width: 100%; margin-right: auto; margin-left: auto; display: block; padding: var(--block-spacing-vertical) var(--block-spacing-horizontal);}h1,h2,h3 { line-height: 120%; margin-top: 0.8rem; margin-bottom: 0.8rem;}p { --font-size: 1rem; font-weight: 400; line-height: 170%; margin-top: 0.8rem; margin-bottom: 1.6rem; font-size: var(--font-size);}body { padding: 0; margin: 0;}.sb-show-main.sb-main-padded { padding: 0;}h1,h2,h3,h4,h5,h6 { --font-weight: 700;}h1 { --font-size: 3rem; --typography-spacing-vertical: 0.5rem;}h2 { --font-size: 2rem; --typography-spacing-vertical: 0.5rem;}h3 { --font-size: 1.75rem; --typography-spacing-vertical: 0.5rem;}h4 { --font-size: 1.5rem; --typography-spacing-vertical: 0.5rem;}h5 { --font-size: 1.25rem; --typography-spacing-vertical: 0.5rem;}h1,h2,h3,h4,h5,h6 { margin-top: 0; margin-bottom: var(--typography-spacing-vertical); color: var(--h-color); font-weight: var(--font-weight); font-size: var(--font-size); font-family: var(--header-font-family);}button,.button { display: inline-flex; position: relative; align-items: center; color: #fff; border-width: 0; outline: none; border-radius: 4px; padding: 16px; height: 36px; cursor: pointer; font-family: inherit; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 1.25px; font-weight: 500; box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); transition-property: box-shadow, transform, opacity, background; transition-duration: 0.28s; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);}button:hover:not([disabled]):not(.icon):not(.json-editor-btntype-*),.button:hover:not([disabled]):not(.icon) { box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12); background: var(--primary-btn-color-hover);}button,button:active,.button,.button:active { background: var(--primary-color);}button[disabled],.button[disabled] { opacity: 0.5; cursor: not-allowed;}button.block,.button.block { display: block;}button.outline,.button.outline { background: transparent; box-shadow: none; color: var(--primary-color); outline: 1px solid var(--primary-color);}button.outline:hover,.button.outline:hover { background: transparent;}button.icon,.button.icon,button[class*="json-editor-btntype-"] { background: transparent; border: none; box-shadow: none; padding: 0; border-radius: 50%; width: 24px; height: 24px; text-indent: -9999px;}button.icon-text,.button.icon-text { text-indent: 26px;}button.icon-text.block,.button.icon-text.block { text-indent: 20px;}button.icon:before,button.icon-text:before,.button.icon:before,.button.icon-text:before { position: absolute; text-indent: 0; line-height: initial;}button.icon-text.block:before,.button.icon-text.block:before { text-indent: -54px;}button.icon:before,.button.icon:before,button[class*="json-editor-btntype-"]::before { width: 24px; height: 24px; margin-right: 0;}button.icon-text:before,.button.icon-text:before { width: 18px; height: 18px;}button.small,.button.small { height: 28px; padding: 12.4px; font-size: 0.75rem;}button.smallest.icon,button.smallest.icon::before { height: 16px; width: 16px; padding: 0;}input[type="checkbox"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}input[type="checkbox"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="checkbox"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");}textarea { height: 90px; resize: none; border-radius: 4px; box-sizing: border-box !important; width: 100%; padding: 5px 7px; border: 1px solid var(--secondary-color); font-size: smaller; background: var(--background-color);}input[type="text"],input[type="url"],input[type="email"],input[type="password"],input[type="text"],input[type="number"],input[type="search"],input[type="tel"],select { box-sizing: border-box; width: 100%; margin-top: 0.5rem; margin-bottom: 0.5rem; padding: 5px 7px; border-radius: 4px; border: 1px solid #0004;}ul.list-wrap { padding: 0;}ul.list-wrap li:hover,ul.list-wrap li.selected { background: var(--secondary-bg-color-hover);}ul.list-wrap li { list-style: none; padding: 4px;}ul.list-wrap li { border-bottom: 1.2px solid var(--secondary-color);}ul.list-wrap li:first-child { border-top: 1.2px solid var(--secondary-color);}ul.list-wrap li .list { width: 100%; align-items: center; justify-content: space-between; display: flex; align-items: center; cursor: pointer; font-size: small; gap: 10px;}ul.list-wrap li .list span { display: flex; align-items: center; cursor: pointer; font-size: small; flex-grow: 1;}input[type="radio"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}label span { font-size: small;}input[type="radio"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="radio"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");}input[type="range"] { -webkit-appearance: none; width: 90%; margin-left: 5%; height: 6px; border-radius: 5px; background: #d7dcdf; outline: none; padding: 0;}input[type="range"]::-webkit-slider-thumb { appearance: none; width: 15px; height: 15px; border-radius: 50%; background: #2c3e50; cursor: pointer; transition: background 0.15s ease-in-out;}.range-slider { margin: 60px 0 0 0;}.range-slider { width: 100%;}input[type="range"]::-webkit-slider-thumb:hover { background: #00416f;}input[type="range"]:active::-webkit-slider-thumb { background: #00416f;}input[type="range"]::-moz-range-thumb { width: 15px; height: 15px; border: 0; border-radius: 50%; background: #2c3e50; cursor: pointer; transition: background 0.15s ease-in-out;}input[type="range"]::-moz-range-thumb:hover { background: #00416f;}input[type="range"]:active::-moz-range-thumb { background: #00416f;}input[type="range"]:focus::-webkit-slider-thumb { box-shadow: 0 0 0 3px #fff0, 0 0 0 6px #00416f00;}.range-slider__value { display: inline-block; position: relative; width: 60px; color: #fff; line-height: 20px; text-align: center; border-radius: 3px; background: #2c3e50; padding: 5px 10px; margin-left: 8px;}.range-slider__value:after { position: absolute; top: 8px; left: -7px; width: 0; height: 0; border-top: 7px solid transparent; border-right: 7px solid #2c3e50; border-bottom: 7px solid transparent; content: "";}input::-moz-focus-inner,input::-moz-focus-outer { border: 0;}`;var Fi,ws;class Ja extends Je{constructor(){super(),Ze(this,Fi),this.filterObject={},this.unstyled=!1}static get properties(){return{filterObject:{attribute:!1,type:Object},unstyled:{type:Boolean}}}render(){return G`
      <style>
        ${!this.unstyled&&tn}
      </style>

      ${Ue(this.filterObject.featured,()=>G`<slot name="filter"></slot>`,()=>G`<details
          @toggle="${le(this,Fi,ws)}"
          class="details-filter"
          ?open=${this.filterObject.expanded||ge}
        >
          <summary>
            <span
              class="title"
              style="${!this.filterObject.title&&"text-transform: capitalize"}"
            >
              ${this.filterObject.title||this.filterObject.key||"Filter"}
              <slot name="reset-button"></slot>
            </span>
          </summary>
          <div>
            <slot name="filter"></slot>
          </div>
        </details>`)}
    `}}Fi=new WeakSet,ws=function(t){this.dispatchEvent(new CustomEvent("details-toggled",{detail:t,bubbles:!0,composed:!0}))};customElements.define("eox-itemfilter-expandcontainer",Ja);function $t(t){return Array.isArray?Array.isArray(t):Ss(t)==="[object Array]"}const Qa=1/0;function el(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Qa?"-0":e}function tl(t){return t==null?"":el(t)}function dt(t){return typeof t=="string"}function $s(t){return typeof t=="number"}function rl(t){return t===!0||t===!1||nl(t)&&Ss(t)=="[object Boolean]"}function _s(t){return typeof t=="object"}function nl(t){return _s(t)&&t!==null}function Ge(t){return t!=null}function Li(t){return!t.trim().length}function Ss(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const il="Incorrect 'index' type",ol=t=>`Invalid value for key ${t}`,sl=t=>`Pattern length exceeds max of ${t}.`,al=t=>`Missing ${t} property in key`,ll=t=>`Property 'weight' in key '${t}' must be a positive integer`,Ho=Object.prototype.hasOwnProperty;class cl{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=As(n);this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function As(t){let e=null,r=null,n=null,i=1,o=null;if(dt(t)||$t(t))n=t,e=Bo(t),r=Hi(t);else{if(!Ho.call(t,"name"))throw new Error(al("name"));const s=t.name;if(n=s,Ho.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(ll(s));e=Bo(s),r=Hi(s),o=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:o}}function Bo(t){return $t(t)?t:t.split(".")}function Hi(t){return $t(t)?t.join("."):t}function ul(t,e){let r=[],n=!1;const i=(o,s,l)=>{if(Ge(o))if(!s[l])r.push(o);else{let c=s[l];const h=o[c];if(!Ge(h))return;if(l===s.length-1&&(dt(h)||$s(h)||rl(h)))r.push(tl(h));else if($t(h)){n=!0;for(let p=0,m=h.length;p<m;p+=1)i(h[p],s,l+1)}else s.length&&i(h,s,l+1)}};return i(t,dt(e)?e.split("."):e,0),n?r:r[0]}const hl={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},dl={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},pl={location:0,threshold:.6,distance:100},fl={useExtendedSearch:!1,getFn:ul,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Y={...dl,...hl,...pl,...fl};const gl=/[^ ]+/g;function ml(t=1,e=3){const r=new Map,n=Math.pow(10,e);return{get(i){const o=i.match(gl).length;if(r.has(o))return r.get(o);const s=1/Math.pow(o,.5*t),l=parseFloat(Math.round(s*n)/n);return r.set(o,l),l},clear(){r.clear()}}}class yo{constructor({getFn:e=Y.getFn,fieldNormWeight:r=Y.fieldNormWeight}={}){this.norm=ml(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,dt(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();dt(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!Ge(e)||Li(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Ge(s)){if($t(s)){let l=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:h,value:p}=c.pop();if(Ge(p))if(dt(p)&&!Li(p)){let m={v:p,i:h,n:this.norm.get(p)};l.push(m)}else $t(p)&&p.forEach((m,x)=>{c.push({nestedArrIndex:x,value:m})})}n.$[o]=l}else if(dt(s)&&!Li(s)){let l={v:s,n:this.norm.get(s)};n.$[o]=l}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ks(t,e,{getFn:r=Y.getFn,fieldNormWeight:n=Y.fieldNormWeight}={}){const i=new yo({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(As)),i.setSources(e),i.create(),i}function yl(t,{getFn:e=Y.getFn,fieldNormWeight:r=Y.fieldNormWeight}={}){const{keys:n,records:i}=t,o=new yo({getFn:e,fieldNormWeight:r});return o.setKeys(n),o.setIndexRecords(i),o}function kn(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=Y.distance,ignoreLocation:o=Y.ignoreLocation}={}){const s=e/t.length;if(o)return s;const l=Math.abs(n-r);return i?s+l/i:l?1:s}function bl(t=[],e=Y.minMatchCharLength){let r=[],n=-1,i=-1,o=0;for(let s=t.length;o<s;o+=1){let l=t[o];l&&n===-1?n=o:!l&&n!==-1&&(i=o-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[o-1]&&o-n>=e&&r.push([n,o-1]),r}const Wt=32;function vl(t,e,r,{location:n=Y.location,distance:i=Y.distance,threshold:o=Y.threshold,findAllMatches:s=Y.findAllMatches,minMatchCharLength:l=Y.minMatchCharLength,includeMatches:c=Y.includeMatches,ignoreLocation:h=Y.ignoreLocation}={}){if(e.length>Wt)throw new Error(sl(Wt));const p=e.length,m=t.length,x=Math.max(0,Math.min(n,m));let b=o,_=x;const A=l>1||c,H=A?Array(m):[];let T;for(;(T=t.indexOf(e,_))>-1;){let ue=kn(e,{currentLocation:T,expectedLocation:x,distance:i,ignoreLocation:h});if(b=Math.min(ue,b),_=T+p,A){let we=0;for(;we<p;)H[T+we]=1,we+=1}}_=-1;let Z=[],K=1,de=p+m;const Q=1<<p-1;for(let ue=0;ue<p;ue+=1){let we=0,Se=de;for(;we<Se;)kn(e,{errors:ue,currentLocation:x+Se,expectedLocation:x,distance:i,ignoreLocation:h})<=b?we=Se:de=Se,Se=Math.floor((de-we)/2+we);de=Se;let pe=Math.max(1,x-Se+1),ie=s?m:Math.min(x+Se,m)+p,We=Array(ie+2);We[ie+1]=(1<<ue)-1;for(let Pe=ie;Pe>=pe;Pe-=1){let N=Pe-1,M=r[t.charAt(N)];if(A&&(H[N]=+!!M),We[Pe]=(We[Pe+1]<<1|1)&M,ue&&(We[Pe]|=(Z[Pe+1]|Z[Pe])<<1|1|Z[Pe+1]),We[Pe]&Q&&(K=kn(e,{errors:ue,currentLocation:N,expectedLocation:x,distance:i,ignoreLocation:h}),K<=b)){if(b=K,_=N,_<=x)break;pe=Math.max(1,2*x-_)}}if(kn(e,{errors:ue+1,currentLocation:x,expectedLocation:x,distance:i,ignoreLocation:h})>b)break;Z=We}const ne={isMatch:_>=0,score:Math.max(.001,K)};if(A){const ue=bl(H,l);ue.length?c&&(ne.indices=ue):ne.isMatch=!1}return ne}function xl(t){let e={};for(let r=0,n=t.length;r<n;r+=1){const i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}class Es{constructor(e,{location:r=Y.location,threshold:n=Y.threshold,distance:i=Y.distance,includeMatches:o=Y.includeMatches,findAllMatches:s=Y.findAllMatches,minMatchCharLength:l=Y.minMatchCharLength,isCaseSensitive:c=Y.isCaseSensitive,ignoreLocation:h=Y.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:h},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const p=(x,b)=>{this.chunks.push({pattern:x,alphabet:xl(x),startIndex:b})},m=this.pattern.length;if(m>Wt){let x=0;const b=m%Wt,_=m-b;for(;x<_;)p(this.pattern.substr(x,Wt),x),x+=Wt;if(b){const A=m-Wt;p(this.pattern.substr(A),A)}}else p(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let _={isMatch:!0,score:0};return n&&(_.indices=[[0,e.length-1]]),_}const{location:i,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:c,ignoreLocation:h}=this.options;let p=[],m=0,x=!1;this.chunks.forEach(({pattern:_,alphabet:A,startIndex:H})=>{const{isMatch:T,score:Z,indices:K}=vl(e,_,A,{location:i+H,distance:o,threshold:s,findAllMatches:l,minMatchCharLength:c,includeMatches:n,ignoreLocation:h});T&&(x=!0),m+=Z,T&&K&&(p=[...p,...K])});let b={isMatch:x,score:x?m/this.chunks.length:1};return x&&n&&(b.indices=p),b}}class jt{constructor(e){this.pattern=e}static isMultiMatch(e){return zo(e,this.multiRegex)}static isSingleMatch(e){return zo(e,this.singleRegex)}search(){}}function zo(t,e){const r=t.match(e);return r?r[1]:null}class wl extends jt{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class $l extends jt{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class _l extends jt{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class Sl extends jt{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Al extends jt{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class kl extends jt{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Ms extends jt{constructor(e,{location:r=Y.location,threshold:n=Y.threshold,distance:i=Y.distance,includeMatches:o=Y.includeMatches,findAllMatches:s=Y.findAllMatches,minMatchCharLength:l=Y.minMatchCharLength,isCaseSensitive:c=Y.isCaseSensitive,ignoreLocation:h=Y.ignoreLocation}={}){super(e),this._bitapSearch=new Es(e,{location:r,threshold:n,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Os extends jt{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,n;const i=[],o=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+o,i.push([n,r-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const Bi=[wl,Os,_l,Sl,kl,Al,$l,Ms],qo=Bi.length,El=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ml="|";function Ol(t,e={}){return t.split(Ml).map(r=>{let n=r.trim().split(El).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=n.length;o<s;o+=1){const l=n[o];let c=!1,h=-1;for(;!c&&++h<qo;){const p=Bi[h];let m=p.isMultiMatch(l);m&&(i.push(new p(m,e)),c=!0)}if(!c)for(h=-1;++h<qo;){const p=Bi[h];let m=p.isSingleMatch(l);if(m){i.push(new p(m,e));break}}}return i})}const Ll=new Set([Ms.type,Os.type]);class jl{constructor(e,{isCaseSensitive:r=Y.isCaseSensitive,includeMatches:n=Y.includeMatches,minMatchCharLength:i=Y.minMatchCharLength,ignoreLocation:o=Y.ignoreLocation,findAllMatches:s=Y.findAllMatches,location:l=Y.location,threshold:c=Y.threshold,distance:h=Y.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:l,threshold:c,distance:h},this.pattern=r?e:e.toLowerCase(),this.query=Ol(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,s=[],l=0;for(let c=0,h=r.length;c<h;c+=1){const p=r[c];s.length=0,o=0;for(let m=0,x=p.length;m<x;m+=1){const b=p[m],{isMatch:_,indices:A,score:H}=b.search(e);if(_){if(o+=1,l+=H,n){const T=b.constructor.type;Ll.has(T)?s=[...s,...A]:s.push(A)}}else{l=0,o=0,s.length=0;break}}if(o){let m={isMatch:!0,score:l/o};return n&&(m.indices=s),m}}return{isMatch:!1,score:1}}}const zi=[];function Cl(...t){zi.push(...t)}function qi(t,e){for(let r=0,n=zi.length;r<n;r+=1){let i=zi[r];if(i.condition(t,e))return new i(t,e)}return new Es(t,e)}const Dn={AND:"$and",OR:"$or"},Ui={PATH:"$path",PATTERN:"$val"},Wi=t=>!!(t[Dn.AND]||t[Dn.OR]),Rl=t=>!!t[Ui.PATH],Pl=t=>!$t(t)&&_s(t)&&!Wi(t),Uo=t=>({[Dn.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Ls(t,e,{auto:r=!0}={}){const n=i=>{let o=Object.keys(i);const s=Rl(i);if(!s&&o.length>1&&!Wi(i))return n(Uo(i));if(Pl(i)){const c=s?i[Ui.PATH]:o[0],h=s?i[Ui.PATTERN]:i[c];if(!dt(h))throw new Error(ol(c));const p={keyId:Hi(c),pattern:h};return r&&(p.searcher=qi(h,e)),p}let l={children:[],operator:o[0]};return o.forEach(c=>{const h=i[c];$t(h)&&h.forEach(p=>{l.children.push(n(p))})}),l};return Wi(t)||(t=Uo(t)),n(t)}function Tl(t,{ignoreFieldNorm:e=Y.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:o,score:s})=>{const l=i?i.weight:null;n*=Math.pow(s===0&&l?Number.EPSILON:s,(l||1)*(e?1:o))}),r.score=n})}function Dl(t,e){const r=t.matches;e.matches=[],Ge(r)&&r.forEach(n=>{if(!Ge(n.indices)||!n.indices.length)return;const{indices:i,value:o}=n;let s={indices:i,value:o};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),e.matches.push(s)})}function Il(t,e){e.score=t.score}function Nl(t,e,{includeMatches:r=Y.includeMatches,includeScore:n=Y.includeScore}={}){const i=[];return r&&i.push(Dl),n&&i.push(Il),t.map(o=>{const{idx:s}=o,l={item:e[s],refIndex:s};return i.length&&i.forEach(c=>{c(o,l)}),l})}class Ct{constructor(e,r={},n){this.options={...Y,...r},this.options.useExtendedSearch,this._keyStore=new cl(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof yo))throw new Error(il);this._myIndex=r||ks(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ge(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let n=0,i=this._docs.length;n<i;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,i-=1,r.push(o))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:l}=this.options;let c=dt(e)?dt(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Tl(c,{ignoreFieldNorm:l}),o&&c.sort(s),$s(r)&&r>-1&&(c=c.slice(0,r)),Nl(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const r=qi(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:o,i:s,n:l})=>{if(!Ge(o))return;const{isMatch:c,score:h,indices:p}=r.searchIn(o);c&&i.push({item:o,idx:s,matches:[{score:h,value:o,norm:l,indices:p}]})}),i}_searchLogical(e){const r=Ls(e,this.options),n=(l,c,h)=>{if(!l.children){const{keyId:m,searcher:x}=l,b=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(c,m),searcher:x});return b&&b.length?[{idx:h,item:c,matches:b}]:[]}const p=[];for(let m=0,x=l.children.length;m<x;m+=1){const b=l.children[m],_=n(b,c,h);if(_.length)p.push(..._);else if(l.operator===Dn.AND)return[]}return p},i=this._myIndex.records,o={},s=[];return i.forEach(({$:l,i:c})=>{if(Ge(l)){let h=n(r,l,c);h.length&&(o[c]||(o[c]={idx:c,item:l,matches:[]},s.push(o[c])),h.forEach(({matches:p})=>{o[c].matches.push(...p)}))}}),s}_searchObjectList(e){const r=qi(e,this.options),{keys:n,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:l})=>{if(!Ge(s))return;let c=[];n.forEach((h,p)=>{c.push(...this._findMatches({key:h,value:s[p],searcher:r}))}),c.length&&o.push({idx:l,item:s,matches:c})}),o}_findMatches({key:e,value:r,searcher:n}){if(!Ge(r))return[];let i=[];if($t(r))r.forEach(({v:o,i:s,n:l})=>{if(!Ge(o))return;const{isMatch:c,score:h,indices:p}=n.searchIn(o);c&&i.push({score:h,key:e,value:o,idx:s,norm:l,indices:p})});else{const{v:o,n:s}=r,{isMatch:l,score:c,indices:h}=n.searchIn(o);l&&i.push({score:c,key:e,value:o,norm:s,indices:h})}return i}}Ct.version="7.0.0";Ct.createIndex=ks;Ct.parseIndex=yl;Ct.config=Y;Ct.parseQuery=Ls;Cl(jl);function js(t,e){const r=new Ct(e.filterProperties,{keys:["title"]}),n=t.target.value,i=r.search(n).map(o=>o.item.key||o.item.keys.join("|"));Object.keys(e.filters).forEach(o=>{e.querySelector(`[data-details="${o}"]`).parentElement.style.display=i.includes(o)||!n?"":"none"})}function Fl(t,e){const r=t.target.getAttribute("data-close").replace("|","-");e.querySelector(`#filter-${r}`).reset(),e.dispatchEvent(new CustomEvent("filter")),e.requestUpdate()}const Vi=Math.min,gr=Math.max,In=Math.round,En=Math.floor,Ot=t=>({x:t,y:t});function Cs(t){return t.split("-")[0]}function Hl(t){return t.split("-")[1]}function Bl(t){return t==="x"?"y":"x"}function zl(t){return t==="y"?"height":"width"}function Rs(t){return["top","bottom"].includes(Cs(t))?"y":"x"}function ql(t){return Bl(Rs(t))}function Ps(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Wo(t,e,r){let{reference:n,floating:i}=t;const o=Rs(e),s=ql(e),l=zl(s),c=Cs(e),h=o==="y",p=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,x=n[l]/2-i[l]/2;let b;switch(c){case"top":b={x:p,y:n.y-i.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:m};break;case"left":b={x:n.x-i.width,y:m};break;default:b={x:n.x,y:n.y}}switch(Hl(e)){case"start":b[s]-=x*(r&&h?-1:1);break;case"end":b[s]+=x*(r&&h?-1:1);break}return b}const Ul=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,l=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let h=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=Wo(h,n,c),x=n,b={},_=0;for(let A=0;A<l.length;A++){const{name:H,fn:T}=l[A],{x:Z,y:K,data:de,reset:Q}=await T({x:p,y:m,initialPlacement:n,placement:x,strategy:i,middlewareData:b,rects:h,platform:s,elements:{reference:t,floating:e}});p=Z??p,m=K??m,b={...b,[H]:{...b[H],...de}},Q&&_<=50&&(_++,typeof Q=="object"&&(Q.placement&&(x=Q.placement),Q.rects&&(h=Q.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):Q.rects),{x:p,y:m}=Wo(h,x,c)),A=-1)}return{x:p,y:m,placement:x,strategy:i,middlewareData:b}};function Vn(){return typeof window<"u"}function xr(t){return Ts(t)?(t.nodeName||"").toLowerCase():"#document"}function Qe(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ft(t){var e;return(e=(Ts(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ts(t){return Vn()?t instanceof Node||t instanceof Qe(t).Node:!1}function st(t){return Vn()?t instanceof Element||t instanceof Qe(t).Element:!1}function pt(t){return Vn()?t instanceof HTMLElement||t instanceof Qe(t).HTMLElement:!1}function Vo(t){return!Vn()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qe(t).ShadowRoot}function rn(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=at(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Wl(t){return["table","td","th"].includes(xr(t))}function Yn(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function bo(t){const e=vo(),r=st(t)?at(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Vl(t){let e=Lt(t);for(;pt(e)&&!br(e);){if(bo(e))return e;if(Yn(e))return null;e=Lt(e)}return null}function vo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function br(t){return["html","body","#document"].includes(xr(t))}function at(t){return Qe(t).getComputedStyle(t)}function Kn(t){return st(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Lt(t){if(xr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vo(t)&&t.host||ft(t);return Vo(e)?e.host:e}function Ds(t){const e=Lt(t);return br(e)?t.ownerDocument?t.ownerDocument.body:t.body:pt(e)&&rn(e)?e:Ds(e)}function Xr(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Ds(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=Qe(i);if(o){const l=Yi(s);return e.concat(s,s.visualViewport||[],rn(i)?i:[],l&&r?Xr(l):[])}return e.concat(i,Xr(i,[],r))}function Yi(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Is(t){const e=at(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=pt(t),o=i?t.offsetWidth:r,s=i?t.offsetHeight:n,l=In(r)!==o||In(n)!==s;return l&&(r=o,n=s),{width:r,height:n,$:l}}function xo(t){return st(t)?t:t.contextElement}function mr(t){const e=xo(t);if(!pt(e))return Ot(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=Is(e);let s=(o?In(r.width):r.width)/n,l=(o?In(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Yl=Ot(0);function Ns(t){const e=Qe(t);return!vo()||!e.visualViewport?Yl:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Kl(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Qe(t)?!1:e}function Gt(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=xo(t);let s=Ot(1);e&&(n?st(n)&&(s=mr(n)):s=mr(t));const l=Kl(o,r,n)?Ns(o):Ot(0);let c=(i.left+l.x)/s.x,h=(i.top+l.y)/s.y,p=i.width/s.x,m=i.height/s.y;if(o){const x=Qe(o),b=n&&st(n)?Qe(n):n;let _=x,A=Yi(_);for(;A&&n&&b!==_;){const H=mr(A),T=A.getBoundingClientRect(),Z=at(A),K=T.left+(A.clientLeft+parseFloat(Z.paddingLeft))*H.x,de=T.top+(A.clientTop+parseFloat(Z.paddingTop))*H.y;c*=H.x,h*=H.y,p*=H.x,m*=H.y,c+=K,h+=de,_=Qe(A),A=Yi(_)}}return Ps({width:p,height:m,x:c,y:h})}function Gl(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",s=ft(n),l=e?Yn(e.floating):!1;if(n===s||l&&o)return r;let c={scrollLeft:0,scrollTop:0},h=Ot(1);const p=Ot(0),m=pt(n);if((m||!m&&!o)&&((xr(n)!=="body"||rn(s))&&(c=Kn(n)),pt(n))){const x=Gt(n);h=mr(n),p.x=x.x+n.clientLeft,p.y=x.y+n.clientTop}return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-c.scrollLeft*h.x+p.x,y:r.y*h.y-c.scrollTop*h.y+p.y}}function Zl(t){return Array.from(t.getClientRects())}function Ki(t,e){const r=Kn(t).scrollLeft;return e?e.left+r:Gt(ft(t)).left+r}function Xl(t){const e=ft(t),r=Kn(t),n=t.ownerDocument.body,i=gr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=gr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Ki(t);const l=-r.scrollTop;return at(n).direction==="rtl"&&(s+=gr(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:l}}function Jl(t,e){const r=Qe(t),n=ft(t),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,l=0,c=0;if(i){o=i.width,s=i.height;const h=vo();(!h||h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:l,y:c}}function Ql(t,e){const r=Gt(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=pt(t)?mr(t):Ot(1),s=t.clientWidth*o.x,l=t.clientHeight*o.y,c=i*o.x,h=n*o.y;return{width:s,height:l,x:c,y:h}}function Yo(t,e,r){let n;if(e==="viewport")n=Jl(t,r);else if(e==="document")n=Xl(ft(t));else if(st(e))n=Ql(e,r);else{const i=Ns(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Ps(n)}function Fs(t,e){const r=Lt(t);return r===e||!st(r)||br(r)?!1:at(r).position==="fixed"||Fs(r,e)}function ec(t,e){const r=e.get(t);if(r)return r;let n=Xr(t,[],!1).filter(l=>st(l)&&xr(l)!=="body"),i=null;const o=at(t).position==="fixed";let s=o?Lt(t):t;for(;st(s)&&!br(s);){const l=at(s),c=bo(s);!c&&l.position==="fixed"&&(i=null),(o?!c&&!i:!c&&l.position==="static"&&i&&["absolute","fixed"].includes(i.position)||rn(s)&&!c&&Fs(t,s))?n=n.filter(h=>h!==s):i=l,s=Lt(s)}return e.set(t,n),n}function tc(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Yn(e)?[]:ec(e,this._c):[].concat(r),n],s=o[0],l=o.reduce((c,h)=>{const p=Yo(e,h,i);return c.top=gr(p.top,c.top),c.right=Vi(p.right,c.right),c.bottom=Vi(p.bottom,c.bottom),c.left=gr(p.left,c.left),c},Yo(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rc(t){const{width:e,height:r}=Is(t);return{width:e,height:r}}function nc(t,e,r){const n=pt(e),i=ft(e),o=r==="fixed",s=Gt(t,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=Ot(0);if(n||!n&&!o)if((xr(e)!=="body"||rn(i))&&(l=Kn(e)),n){const b=Gt(e,!0,o,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&(c.x=Ki(i));let h=0,p=0;if(i&&!n&&!o){const b=i.getBoundingClientRect();p=b.top+l.scrollTop,h=b.left+l.scrollLeft-Ki(i,b)}const m=s.left+l.scrollLeft-c.x-h,x=s.top+l.scrollTop-c.y-p;return{x:m,y:x,width:s.width,height:s.height}}function ji(t){return at(t).position==="static"}function Ko(t,e){if(!pt(t)||at(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ft(t)===r&&(r=r.ownerDocument.body),r}function Hs(t,e){const r=Qe(t);if(Yn(t))return r;if(!pt(t)){let i=Lt(t);for(;i&&!br(i);){if(st(i)&&!ji(i))return i;i=Lt(i)}return r}let n=Ko(t,e);for(;n&&Wl(n)&&ji(n);)n=Ko(n,e);return n&&br(n)&&ji(n)&&!bo(n)?r:n||Vl(t)||r}const ic=async function(t){const e=this.getOffsetParent||Hs,r=this.getDimensions,n=await r(t.floating);return{reference:nc(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function oc(t){return at(t).direction==="rtl"}const sc={convertOffsetParentRelativeRectToViewportRelativeRect:Gl,getDocumentElement:ft,getClippingRect:tc,getOffsetParent:Hs,getElementRects:ic,getClientRects:Zl,getDimensions:rc,getScale:mr,isElement:st,isRTL:oc};function ac(t,e){let r=null,n;const i=ft(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:h,top:p,width:m,height:x}=t.getBoundingClientRect();if(l||e(),!m||!x)return;const b=En(p),_=En(i.clientWidth-(h+m)),A=En(i.clientHeight-(p+x)),H=En(h),T={rootMargin:-b+"px "+-_+"px "+-A+"px "+-H+"px",threshold:gr(0,Vi(1,c))||1};let Z=!0;function K(de){const Q=de[0].intersectionRatio;if(Q!==c){if(!Z)return s();Q?s(!1,Q):n=setTimeout(()=>{s(!1,1e-7)},1e3)}Z=!1}try{r=new IntersectionObserver(K,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(K,T)}r.observe(t)}return s(!0),o}function lc(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,h=xo(t),p=i||o?[...h?Xr(h):[],...Xr(e)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",r,{passive:!0}),o&&T.addEventListener("resize",r)});const m=h&&l?ac(h,r):null;let x=-1,b=null;s&&(b=new ResizeObserver(T=>{let[Z]=T;Z&&Z.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var K;(K=b)==null||K.observe(e)})),r()}),h&&!c&&b.observe(h),b.observe(e));let _,A=c?Gt(t):null;c&&H();function H(){const T=Gt(t);A&&(T.x!==A.x||T.y!==A.y||T.width!==A.width||T.height!==A.height)&&r(),A=T,_=requestAnimationFrame(H)}return r(),()=>{var T;p.forEach(Z=>{i&&Z.removeEventListener("scroll",r),o&&Z.removeEventListener("resize",r)}),m==null||m(),(T=b)==null||T.disconnect(),b=null,c&&cancelAnimationFrame(_)}}const cc=(t,e,r)=>{const n=new Map,i={platform:sc,...r},o={...i.platform,_c:n};return Ul(t,e,{...i,platform:o})};function uc(t){const e=t.renderRoot.querySelector(".inline-container-wrapper"),r=t.renderRoot.querySelector("[popover]");return lc(e,r,()=>{r.matches(":popover-open")&&cc(e,r,{strategy:"fixed"}).then(({x:n,y:i})=>{Object.assign(r.style,{left:`${n}px`,top:`${i}px`,width:`${e.getBoundingClientRect().width}px`})})},{animationFrame:!0})}function Bs(t){t.renderRoot.querySelector("#eox-itemfilter-input-search").value="",js({target:{value:""}},t)}function hc(t,e){e.inlineMode&&t.stopPropagation()}function dc(t){t.inlineMode&&(t.showDropdown=!0)}function pc(t,e){e.inlineMode&&(t.stopPropagation(),e.showDropdown=!0)}function fc(t,e){e.inlineMode&&t.key==="Escape"&&e.showDropdown&&(Bs(e),e.showDropdown=!1)}function gc(t,e){e.inlineMode&&t.target.tagName!=="DROPDOWN-FORM"&&t.target.tagName!=="EOX-ITEMFILTER"&&e.showDropdown&&(Bs(e),e.showDropdown=!1)}function mc(t,e){var r=0,n=0,i=0,o=0,s=0,l=0,c=0,h=0,p=null,m=null,x=t[0],b=t[1],_=e.length;for(r;r<_;r++){n=0;var A=e[r].length-1,H=e[r];if(p=H[0],p[0]!==H[A][0]&&p[1]!==H[A][1])throw new Error("First and last coordinates in a ring must be the same");for(s=p[0]-x,l=p[1]-b,n;n<A;n++){if(m=H[n+1],h=m[1]-b,l<0&&h<0||l>0&&h>0){p=m,l=h,s=p[0]-x;continue}if(c=m[0]-t[0],h>0&&l<=0){if(o=s*h-c*l,o>0)i=i+1;else if(o===0)return 0}else if(l>0&&h<=0){if(o=s*h-c*l,o<0)i=i+1;else if(o===0)return 0}else if(h===0&&l<0){if(o=s*h-c*l,o===0)return 0}else if(l===0&&h<0){if(o=s*h-c*l,o===0)return 0}else if(l===0&&h===0&&(c<=0&&s>=0||s<=0&&c>=0))return 0;p=m,l=h,s=c}}return i%2!==0}function Zt(t,e,r={}){const n={type:"Feature"};return(r.id===0||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function yc(t,e,r={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Go(t[0])||!Go(t[1]))throw new Error("coordinates must contain numbers");return Zt({type:"Point",coordinates:t},e,r)}function bc(t,e,r={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return Zt({type:"LineString",coordinates:t},e,r)}function Gi(t,e={}){const r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function vc(t,e,r={}){return Zt({type:"MultiLineString",coordinates:t},e,r)}function Go(t){return!isNaN(t)&&t!==null&&!Array.isArray(t)}function zs(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function xc(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function vr(t){return t.type==="Feature"?t.geometry:t}function rt(t,e,r={}){if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");const n=zs(t),i=vr(e),o=i.type,s=e.bbox;let l=i.coordinates;if(s&&wc(n,s)===!1)return!1;o==="Polygon"&&(l=[l]);let c=!1;for(var h=0;h<l.length;++h){const p=mc(n,l[h]);if(p===0)return!r.ignoreBoundary;p&&(c=!0)}return c}function wc(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}class qs{constructor(e=[],r=$c){if(this.data=e,this.length=this.data.length,this.compare=r,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const e=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:r,compare:n}=this,i=r[e];for(;e>0;){const o=e-1>>1,s=r[o];if(n(i,s)>=0)break;r[e]=s,e=o}r[e]=i}_down(e){const{data:r,compare:n}=this,i=this.length>>1,o=r[e];for(;e<i;){let s=(e<<1)+1,l=r[s];const c=s+1;if(c<this.length&&n(r[c],l)<0&&(s=c,l=r[c]),n(l,o)>=0)break;r[e]=l,e=s}r[e]=o}}function $c(t,e){return t<e?-1:t>e?1:0}function Us(t,e){return t.p.x>e.p.x?1:t.p.x<e.p.x?-1:t.p.y!==e.p.y?t.p.y>e.p.y?1:-1:1}function _c(t,e){return t.rightSweepEvent.p.x>e.rightSweepEvent.p.x?1:t.rightSweepEvent.p.x<e.rightSweepEvent.p.x?-1:t.rightSweepEvent.p.y!==e.rightSweepEvent.p.y?t.rightSweepEvent.p.y<e.rightSweepEvent.p.y?1:-1:1}class Zo{constructor(e,r,n,i){this.p={x:e[0],y:e[1]},this.featureId=r,this.ringId=n,this.eventId=i,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}function Sc(t,e){if(t.type==="FeatureCollection"){const r=t.features;for(let n=0;n<r.length;n++)Xo(r[n],e)}else Xo(t,e)}let Mn=0,On=0,Ln=0;function Xo(t,e){const r=t.type==="Feature"?t.geometry:t;let n=r.coordinates;(r.type==="Polygon"||r.type==="MultiLineString")&&(n=[n]),r.type==="LineString"&&(n=[[n]]);for(let i=0;i<n.length;i++)for(let o=0;o<n[i].length;o++){let s=n[i][o][0],l=null;On=On+1;for(let c=0;c<n[i][o].length-1;c++){l=n[i][o][c+1];const h=new Zo(s,Mn,On,Ln),p=new Zo(l,Mn,On,Ln+1);h.otherEvent=p,p.otherEvent=h,Us(h,p)>0?(p.isLeftEndpoint=!0,h.isLeftEndpoint=!1):(h.isLeftEndpoint=!0,p.isLeftEndpoint=!1),e.push(h),e.push(p),s=l,Ln=Ln+1}}Mn=Mn+1}class Ac{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function kc(t,e){if(t===null||e===null||t.leftSweepEvent.ringId===e.leftSweepEvent.ringId&&(t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.leftSweepEvent)||t.rightSweepEvent.isSamePoint(e.rightSweepEvent)||t.leftSweepEvent.isSamePoint(e.leftSweepEvent)||t.leftSweepEvent.isSamePoint(e.rightSweepEvent)))return!1;const r=t.leftSweepEvent.p.x,n=t.leftSweepEvent.p.y,i=t.rightSweepEvent.p.x,o=t.rightSweepEvent.p.y,s=e.leftSweepEvent.p.x,l=e.leftSweepEvent.p.y,c=e.rightSweepEvent.p.x,h=e.rightSweepEvent.p.y,p=(h-l)*(i-r)-(c-s)*(o-n),m=(c-s)*(n-l)-(h-l)*(r-s),x=(i-r)*(n-l)-(o-n)*(r-s);if(p===0)return!1;const b=m/p,_=x/p;if(b>=0&&b<=1&&_>=0&&_<=1){const A=r+b*(i-r),H=n+b*(o-n);return[A,H]}return!1}function Ec(t,e){e=e||!1;const r=[],n=new qs([],_c);for(;t.length;){const i=t.pop();if(i.isLeftEndpoint){const o=new Ac(i);for(let s=0;s<n.data.length;s++){const l=n.data[s];if(e&&l.leftSweepEvent.featureId===i.featureId)continue;const c=kc(o,l);c!==!1&&r.push(c)}n.push(o)}else i.isLeftEndpoint===!1&&n.pop()}return r}function Mc(t,e){const r=new qs([],Us);return Sc(t,r),Ec(r,e)}var Oc=Mc;function wo(t,e,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:i=!1}=r;let o=[];t.type==="FeatureCollection"?o=o.concat(t.features):t.type==="Feature"?o.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&o.push(Zt(t)),e.type==="FeatureCollection"?o=o.concat(e.features):e.type==="Feature"?o.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&o.push(Zt(e));const s=Oc(Gi(o),i);let l=[];if(n){const c={};s.forEach(h=>{const p=h.join(",");c[p]||(c[p]=!0,l.push(h))})}else l=s;return Gi(l.map(c=>yc(c)))}function Ws(t,e,r){if(t!==null)for(var n,i,o,s,l,c,h,p=0,m=0,x,b=t.type,_=b==="FeatureCollection",A=b==="Feature",H=_?t.features.length:1,T=0;T<H;T++){h=_?t.features[T].geometry:A?t.geometry:t,x=h?h.type==="GeometryCollection":!1,l=x?h.geometries.length:1;for(var Z=0;Z<l;Z++){var K=0,de=0;if(s=x?h.geometries[Z]:h,s!==null){c=s.coordinates;var Q=s.type;switch(p=0,Q){case null:break;case"Point":if(e(c,m,T,K,de)===!1)return!1;m++,K++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(e(c[n],m,T,K,de)===!1)return!1;m++,Q==="MultiPoint"&&K++}Q==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(i=0;i<c[n].length-p;i++){if(e(c[n][i],m,T,K,de)===!1)return!1;m++}Q==="MultiLineString"&&K++,Q==="Polygon"&&de++}Q==="Polygon"&&K++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(de=0,i=0;i<c[n].length;i++){for(o=0;o<c[n][i].length-p;o++){if(e(c[n][i][o],m,T,K,de)===!1)return!1;m++}de++}K++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(Ws(s.geometries[n],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Lc(t,e){var r,n,i,o,s,l,c,h,p,m,x=0,b=t.type==="FeatureCollection",_=t.type==="Feature",A=b?t.features.length:1;for(r=0;r<A;r++){for(l=b?t.features[r].geometry:_?t.geometry:t,h=b?t.features[r].properties:_?t.properties:{},p=b?t.features[r].bbox:_?t.bbox:void 0,m=b?t.features[r].id:_?t.id:void 0,c=l?l.type==="GeometryCollection":!1,s=c?l.geometries.length:1,i=0;i<s;i++){if(o=c?l.geometries[i]:l,o===null){if(e(null,x,h,p,m)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(e(o,x,h,p,m)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(e(o.geometries[n],x,h,p,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}x++}}function Nn(t,e){Lc(t,function(r,n,i,o,s){var l=r===null?null:r.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return e(Zt(r,i,{bbox:o,id:s}),n,0)===!1?!1:void 0}var c;switch(l){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon";break}for(var h=0;h<r.coordinates.length;h++){var p=r.coordinates[h],m={type:c,coordinates:p};if(e(Zt(m,i),n,h)===!1)return!1}})}function Zi(t,e={}){const r=vr(t);switch(!e.properties&&t.type==="Feature"&&(e.properties=t.properties),r.type){case"Polygon":return jc(r,e);case"MultiPolygon":return Cc(r,e);default:throw new Error("invalid poly")}}function jc(t,e={}){const r=vr(t).coordinates,n=e.properties?e.properties:t.type==="Feature"?t.properties:{};return Vs(r,n)}function Cc(t,e={}){const r=vr(t).coordinates,n=e.properties?e.properties:t.type==="Feature"?t.properties:{},i=[];return r.forEach(o=>{i.push(Vs(o,n))}),Gi(i)}function Vs(t,e){return t.length>1?vc(t,e):bc(t[0],e)}function Rc(t,e,r={}){var n;const i=(n=r.ignoreSelfIntersections)!=null?n:!1;let o=!0;return Nn(t,s=>{Nn(e,l=>{if(o===!1)return!1;o=Pc(s.geometry,l.geometry,i)})}),o}function Pc(t,e,r){switch(t.type){case"Point":switch(e.type){case"Point":return!Nc(t.coordinates,e.coordinates);case"LineString":return!Jo(e,t);case"Polygon":return!rt(t,e)}break;case"LineString":switch(e.type){case"Point":return!Jo(t,e);case"LineString":return!Tc(t,e,r);case"Polygon":return!Qo(e,t,r)}break;case"Polygon":switch(e.type){case"Point":return!rt(e,t);case"LineString":return!Qo(t,e,r);case"Polygon":return!Dc(e,t,r)}}return!1}function Jo(t,e){for(let r=0;r<t.coordinates.length-1;r++)if(Ic(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}function Tc(t,e,r){return wo(t,e,{ignoreSelfIntersections:r}).features.length>0}function Qo(t,e,r){for(const n of e.coordinates)if(rt(n,t))return!0;return wo(e,Zi(t),{ignoreSelfIntersections:r}).features.length>0}function Dc(t,e,r){for(const n of t.coordinates[0])if(rt(n,e))return!0;for(const n of e.coordinates[0])if(rt(n,t))return!0;return wo(Zi(t),Zi(e),{ignoreSelfIntersections:r}).features.length>0}function Ic(t,e,r){const n=r[0]-t[0],i=r[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return n*s-i*o!==0?!1:Math.abs(o)>=Math.abs(s)?o>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:s>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1]}function Nc(t,e){return t[0]===e[0]&&t[1]===e[1]}function Fc(t,e,r={}){var n;const i=(n=r.ignoreSelfIntersections)!=null?n:!1;let o=!1;return Nn(t,s=>{Nn(e,l=>{if(o===!0)return!0;o=!Rc(s.geometry,l.geometry,{ignoreSelfIntersections:i})})}),o}var Hc=Fc;function Fn(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const r=[1/0,1/0,-1/0,-1/0];return Ws(t,n=>{r[0]>n[0]&&(r[0]=n[0]),r[1]>n[1]&&(r[1]=n[1]),r[2]<n[0]&&(r[2]=n[0]),r[3]<n[1]&&(r[3]=n[1])}),r}function Hn(t,e,r={}){const n=zs(t),i=xc(e);for(let o=0;o<i.length-1;o++){let s=!1;if(r.ignoreEndVertices&&(o===0&&(s="start"),o===i.length-2&&(s="end"),o===0&&o+1===i.length-1&&(s="both")),Bc(i[o],i[o+1],n,s,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}function Bc(t,e,r,n,i){const o=r[0],s=r[1],l=t[0],c=t[1],h=e[0],p=e[1],m=r[0]-l,x=r[1]-c,b=h-l,_=p-c,A=m*_-x*b;if(i!==null){if(Math.abs(A)>i)return!1}else if(A!==0)return!1;if(n){if(n==="start")return Math.abs(b)>=Math.abs(_)?b>0?l<o&&o<=h:h<=o&&o<l:_>0?c<s&&s<=p:p<=s&&s<c;if(n==="end")return Math.abs(b)>=Math.abs(_)?b>0?l<=o&&o<h:h<o&&o<=l:_>0?c<=s&&s<p:p<s&&s<=c;if(n==="both")return Math.abs(b)>=Math.abs(_)?b>0?l<o&&o<h:h<o&&o<l:_>0?c<s&&s<p:p<s&&s<c}else return Math.abs(b)>=Math.abs(_)?b>0?l<=o&&o<=h:h<=o&&o<=l:_>0?c<=s&&s<=p:p<=s&&s<=c;return!1}function zc(t,e){var r=vr(t),n=vr(e),i=r.type,o=n.type;switch(i){case"Point":switch(o){case"MultiPoint":return qc(r,n);case"LineString":return Hn(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return rt(r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return Uc(r,n);case"LineString":return Wc(r,n);case"Polygon":case"MultiPolygon":return Vc(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return Yc(r,n);case"Polygon":case"MultiPolygon":return Kc(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return Gc(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function qc(t,e){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(Ks(e.coordinates[r],t.coordinates)){n=!0;break}return n}function Uc(t,e){for(var r=0;r<t.coordinates.length;r++){for(var n=!1,i=0;i<e.coordinates.length;i++)Ks(t.coordinates[r],e.coordinates[i])&&(n=!0);if(!n)return!1}return!0}function Wc(t,e){for(var r=!1,n=0;n<t.coordinates.length;n++){if(!Hn(t.coordinates[n],e))return!1;r||(r=Hn(t.coordinates[n],e,{ignoreEndVertices:!0}))}return r}function Vc(t,e){for(var r=!0,n=!1,i=0;i<t.coordinates.length;i++){if(n=rt(t.coordinates[i],e),!n){r=!1;break}n=rt(t.coordinates[i],e,{ignoreBoundary:!0})}return r&&n}function Yc(t,e){for(var r=0;r<t.coordinates.length;r++)if(!Hn(t.coordinates[r],e))return!1;return!0}function Kc(t,e){var r=Fn(e),n=Fn(t);if(!Ys(r,n))return!1;for(var i=!1,o=0;o<t.coordinates.length;o++){if(!rt(t.coordinates[o],e))return!1;if(i||(i=rt(t.coordinates[o],e,{ignoreBoundary:!0})),!i&&o<t.coordinates.length-1){var s=Zc(t.coordinates[o],t.coordinates[o+1]);i=rt(s,e,{ignoreBoundary:!0})}}return i}function Gc(t,e){var r=Fn(t),n=Fn(e);if(!Ys(n,r))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!rt(t.coordinates[0][i],e))return!1;return!0}function Ys(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Ks(t,e){return t[0]===e[0]&&t[1]===e[1]}function Zc(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}var Xc=zc;const Jc=(t,e)=>e?Hc(t,e):!0,Qc=(t,e)=>e?Xc(t,e):!0;function eu(t,e="highlight",r="title"){const n=(o,s,l)=>{const c=s.split(".");let h;for(h=0;h<c.length-1;h++)o=o[c[h]];o[c[h]]=l},i=(o,s=[])=>{let l="",c=0;return s.forEach(h=>{const p=h[1]+1;l+=[o.substring(c,h[0]),`<mark class="${e}">`,o.substring(h[0],p),"</mark>"].join(""),c=p}),l+=o.substring(c),l};return t.filter(({matches:o})=>o&&o.length).map(({item:o,matches:s})=>{const l={...o};return s.forEach(c=>{c.key===r&&n(l,c.key,i(c.value,c.indices))}),l})}var Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gs={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Xe,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",l="minute",c="hour",h="day",p="week",m="month",x="quarter",b="year",_="date",A="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var M=["th","st","nd","rd"],k=N%100;return"["+N+(M[(k-20)%10]||M[k]||M[0])+"]"}},K=function(N,M,k){var D=String(N);return!D||D.length>=M?N:""+Array(M+1-D.length).join(k)+N},de={s:K,z:function(N){var M=-N.utcOffset(),k=Math.abs(M),D=Math.floor(k/60),O=k%60;return(M<=0?"+":"-")+K(D,2,"0")+":"+K(O,2,"0")},m:function N(M,k){if(M.date()<k.date())return-N(k,M);var D=12*(k.year()-M.year())+(k.month()-M.month()),O=M.clone().add(D,m),W=k-O<0,V=M.clone().add(D+(W?-1:1),m);return+(-(D+(k-O)/(W?O-V:V-O))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:m,y:b,w:p,d:h,D:_,h:c,m:l,s,ms:o,Q:x}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},Q="en",ne={};ne[Q]=Z;var ue="$isDayjsObject",we=function(N){return N instanceof We||!(!N||!N[ue])},Se=function N(M,k,D){var O;if(!M)return Q;if(typeof M=="string"){var W=M.toLowerCase();ne[W]&&(O=W),k&&(ne[W]=k,O=W);var V=M.split("-");if(!O&&V.length>1)return N(V[0])}else{var ce=M.name;ne[ce]=M,O=ce}return!D&&O&&(Q=O),O||!D&&Q},pe=function(N,M){if(we(N))return N.clone();var k=typeof M=="object"?M:{};return k.date=N,k.args=arguments,new We(k)},ie=de;ie.l=Se,ie.i=we,ie.w=function(N,M){return pe(N,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var We=function(){function N(k){this.$L=Se(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[ue]=!0}var M=N.prototype;return M.parse=function(k){this.$d=function(D){var O=D.date,W=D.utc;if(O===null)return new Date(NaN);if(ie.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var V=O.match(H);if(V){var ce=V[2]-1||0,ve=(V[7]||"0").substring(0,3);return W?new Date(Date.UTC(V[1],ce,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ve)):new Date(V[1],ce,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ve)}}return new Date(O)}(k),this.init()},M.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},M.$utils=function(){return ie},M.isValid=function(){return this.$d.toString()!==A},M.isSame=function(k,D){var O=pe(k);return this.startOf(D)<=O&&O<=this.endOf(D)},M.isAfter=function(k,D){return pe(k)<this.startOf(D)},M.isBefore=function(k,D){return this.endOf(D)<pe(k)},M.$g=function(k,D,O){return ie.u(k)?this[D]:this.set(O,k)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(k,D){var O=this,W=!!ie.u(D)||D,V=ie.p(k),ce=function(Me,te){var Oe=ie.w(O.$u?Date.UTC(O.$y,te,Me):new Date(O.$y,te,Me),O);return W?Oe:Oe.endOf(h)},ve=function(Me,te){return ie.w(O.toDate()[Me].apply(O.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(te)),O)},_e=this.$W,Ae=this.$M,Ie=this.$D,Ee="set"+(this.$u?"UTC":"");switch(V){case b:return W?ce(1,0):ce(31,11);case m:return W?ce(1,Ae):ce(0,Ae+1);case p:var Ne=this.$locale().weekStart||0,oe=(_e<Ne?_e+7:_e)-Ne;return ce(W?Ie-oe:Ie+(6-oe),Ae);case h:case _:return ve(Ee+"Hours",0);case c:return ve(Ee+"Minutes",1);case l:return ve(Ee+"Seconds",2);case s:return ve(Ee+"Milliseconds",3);default:return this.clone()}},M.endOf=function(k){return this.startOf(k,!1)},M.$set=function(k,D){var O,W=ie.p(k),V="set"+(this.$u?"UTC":""),ce=(O={},O[h]=V+"Date",O[_]=V+"Date",O[m]=V+"Month",O[b]=V+"FullYear",O[c]=V+"Hours",O[l]=V+"Minutes",O[s]=V+"Seconds",O[o]=V+"Milliseconds",O)[W],ve=W===h?this.$D+(D-this.$W):D;if(W===m||W===b){var _e=this.clone().set(_,1);_e.$d[ce](ve),_e.init(),this.$d=_e.set(_,Math.min(this.$D,_e.daysInMonth())).$d}else ce&&this.$d[ce](ve);return this.init(),this},M.set=function(k,D){return this.clone().$set(k,D)},M.get=function(k){return this[ie.p(k)]()},M.add=function(k,D){var O,W=this;k=Number(k);var V=ie.p(D),ce=function(Ae){var Ie=pe(W);return ie.w(Ie.date(Ie.date()+Math.round(Ae*k)),W)};if(V===m)return this.set(m,this.$M+k);if(V===b)return this.set(b,this.$y+k);if(V===h)return ce(1);if(V===p)return ce(7);var ve=(O={},O[l]=n,O[c]=i,O[s]=r,O)[V]||1,_e=this.$d.getTime()+k*ve;return ie.w(_e,this)},M.subtract=function(k,D){return this.add(-1*k,D)},M.format=function(k){var D=this,O=this.$locale();if(!this.isValid())return O.invalidDate||A;var W=k||"YYYY-MM-DDTHH:mm:ssZ",V=ie.z(this),ce=this.$H,ve=this.$m,_e=this.$M,Ae=O.weekdays,Ie=O.months,Ee=O.meridiem,Ne=function(te,Oe,lt,xe){return te&&(te[Oe]||te(D,W))||lt[Oe].slice(0,xe)},oe=function(te){return ie.s(ce%12||12,te,"0")},Me=Ee||function(te,Oe,lt){var xe=te<12?"AM":"PM";return lt?xe.toLowerCase():xe};return W.replace(T,function(te,Oe){return Oe||function(lt){switch(lt){case"YY":return String(D.$y).slice(-2);case"YYYY":return ie.s(D.$y,4,"0");case"M":return _e+1;case"MM":return ie.s(_e+1,2,"0");case"MMM":return Ne(O.monthsShort,_e,Ie,3);case"MMMM":return Ne(Ie,_e);case"D":return D.$D;case"DD":return ie.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return Ne(O.weekdaysMin,D.$W,Ae,2);case"ddd":return Ne(O.weekdaysShort,D.$W,Ae,3);case"dddd":return Ae[D.$W];case"H":return String(ce);case"HH":return ie.s(ce,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return Me(ce,ve,!0);case"A":return Me(ce,ve,!1);case"m":return String(ve);case"mm":return ie.s(ve,2,"0");case"s":return String(D.$s);case"ss":return ie.s(D.$s,2,"0");case"SSS":return ie.s(D.$ms,3,"0");case"Z":return V}return null}(te)||V.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(k,D,O){var W,V=this,ce=ie.p(D),ve=pe(k),_e=(ve.utcOffset()-this.utcOffset())*n,Ae=this-ve,Ie=function(){return ie.m(V,ve)};switch(ce){case b:W=Ie()/12;break;case m:W=Ie();break;case x:W=Ie()/3;break;case p:W=(Ae-_e)/6048e5;break;case h:W=(Ae-_e)/864e5;break;case c:W=Ae/i;break;case l:W=Ae/n;break;case s:W=Ae/r;break;default:W=Ae}return O?W:ie.a(W)},M.daysInMonth=function(){return this.endOf(m).$D},M.$locale=function(){return ne[this.$L]},M.locale=function(k,D){if(!k)return this.$L;var O=this.clone(),W=Se(k,D,!0);return W&&(O.$L=W),O},M.clone=function(){return ie.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},N}(),Pe=We.prototype;return pe.prototype=Pe,[["$ms",o],["$s",s],["$m",l],["$H",c],["$W",h],["$M",m],["$y",b],["$D",_]].forEach(function(N){Pe[N[1]]=function(M){return this.$g(M,N[0],N[1])}}),pe.extend=function(N,M){return N.$i||(N(M,We,pe),N.$i=!0),pe},pe.locale=Se,pe.isDayjs=we,pe.unix=function(N){return pe(1e3*N)},pe.en=ne[Q],pe.Ls=ne,pe.p={},pe})})(Gs);var tu=Gs.exports;const Jr=Gn(tu);let Zs;const ru=(t,e)=>{Zs=new Ct(t,{threshold:.4,distance:50,includeMatches:!0,useExtendedSearch:!0,...e})},nu=async(t,e,r)=>{const n=Object.entries(e).filter(([,l])=>l.type==="text"||l.type==="select"||l.type==="multiselect").reduce((l,[c,h])=>{const p="$or",m=[],x=(b,_)=>{const A={};h.type==="text"?A[b]=`${_}`:A[c]=`="${b}"`,m.push(A)};return Object.entries(h.state).filter(([,b])=>b).forEach(([b,_])=>x(b,_)),m.length>0&&l.push({[p]:m}),l},[]);let i;if(!(n.length>0)&&r.matchAllWhenEmpty!==!1)i=t;else{const l={$and:[...n]},c=Zs.search(l);i=r.enableHighlighting?eu(c,"highlight",r.titleProperty):c.map(h=>h.item)}const o=Object.entries(e).filter(([,l])=>l.type==="range").reduce((l,[c,h])=>(l[c]={min:h.state.min,max:h.state.max,format:h.format},l),{});if(Object.keys(o).length>0){const l=[];for(let c=0;c<i.length;c++){const h={};for(const[p,m]of Object.entries(o)){const x=b=>m.format==="date"?Jr(b).unix():b;Object.prototype.hasOwnProperty.call(i[c],p)?Array.isArray(i[c][p])?h[p]=o[p].min<=x(i[c][p][1])&&x(i[c][p][0])<=o[p].max:x(i[c][p])>=o[p].min&&x(i[c][p])<=o[p].max?h[p]=!0:h[p]=!1:h[p]=!0}Object.values(h).every(p=>!!p)&&l.push(i[c])}i=[...l]}const s=Object.entries(e).filter(([,l])=>l.type==="spatial").reduce((l,[c,h])=>(l[c]={geometry:h.state.geometry,mode:h.state.mode},l),{});if(Object.values(s).map(l=>l.geometry).filter(l=>!!l).length>0){const l=[];for(let c=0;c<i.length;c++){const h={};for(const p of Object.keys(s)){const m=s[p].mode||"within";Object.prototype.hasOwnProperty.call(i[c],p)&&(m==="within"?Qc(i[c][p],s[p].geometry):Jc(i[c][p],s[p].geometry))?h[p]=!0:h[p]=!1}Object.values(h).every(p=>!!p)&&l.push(i[c])}i=[...l]}return i};function iu(t,e){return[{type:"Vector",properties:{id:"draw"},source:{type:"Vector",...t&&{format:"GeoJSON"},...t&&{url:e}},zIndex:1,interactions:[{type:"draw",options:{id:"drawInteraction",type:"Box",modify:!0}}]},{type:"Tile",source:{type:"XYZ",url:"https://tiles.maps.eox.at/wmts/1.0.0/osm_3857/default/g/{z}/{y}/{x}.jpg",attribution:"{ OSM: Data &copy; OpenStreetMap contributors and others, Rendering &copy; EOX }"}}]}function Zn(t){if(!t.dirty)return null;switch(t.type){case"multiselect":for(const e in t.state)t.state.hasOwnProperty(e)&&(t.state[e]=!1);break;case"range":t.state.min=t.min,t.state.max=t.max;break;case"select":for(const e in t.state)t.state.hasOwnProperty(e)&&(t.state[e]=!1);break;case"spatial":t.state.geometry=void 0;break;case"text":t.keys.forEach(e=>{t.state[e]=void 0});break}return delete t.stringifiedState,delete t.dirty,t}function es(t,e){return t*2+e}function ou(t){return Object.keys(t).map(e=>({title:G`${t[e].title}:
        <strong>${t[e].stringifiedState}</strong>`,key:e})).filter(e=>t[e.key].dirty)}function Xi(t){return Object.values(t).map(e=>e.dirty).filter(e=>e).length>0}async function su(t,e,r){return await(await fetch(`${r.externalFilter(t,e)}`)).json()}function Xs(t,e,r){let n;if(t.detail?n=t.detail.target:n=t.target,n!=null&&n.classList.contains("details-filter")){if(!n.open||e!=null&&e.expandMultipleFilters)return;r.shadowRoot.querySelectorAll("eox-itemfilter-expandcontainer").forEach(i=>{const o=i.shadowRoot.querySelector(".details-filter");o&&o!==n&&o.removeAttribute("open")})}else{if(!(n!=null&&n.open)||e!=null&&e.expandMultipleResults)return;r.querySelectorAll("details").forEach(i=>{i!==n&&i.removeAttribute("open")})}}var De,ts,Ji,Qi,Js,eo,to,Qs,ro,ea,ta;class au extends Je{constructor(){super(),Ze(this,De),this.filterProperties={},this.unstyled=!1,this.inlineMode=!1,this.filters={},this._handleClickOutside=le(this,De,Js).bind(this),this._handleKeyDown=le(this,De,eo).bind(this)}static get properties(){return{filterProperties:{attribute:!1,type:Object},inlineMode:{attribute:"inline-mode",type:Boolean},unstyled:{type:Boolean},filters:{state:!0,type:Object}}}set showDropdown(e){this.renderRoot.querySelector("[popover]").togglePopover(e)}get showDropdown(){var e;return(e=this.renderRoot.querySelector("[popover]"))==null?void 0:e.matches(":popover-open")}connectedCallback(){super.connectedCallback(),this.inlineMode&&le(this,De,Ji).call(this)}disconnectedCallback(){this.inlineMode&&le(this,De,Qi).call(this),super.disconnectedCallback()}_overlayCleanup(){}updateInline(){this.inlineMode&&this.requestUpdate()}updated(e){e.has("inlineMode")&&(this.inlineMode?le(this,De,Ji).call(this):le(this,De,Qi).call(this))}render(){return G`
      <style>
        ${!this.unstyled&&tn}
      </style>
      ${this.inlineMode?G`
            <div
              class="inline-container-wrapper"
              @click="${le(this,De,to)}"
            >
              <div class="inline-container" part="container">
                <div class="chip-container">
                  <div class="chip-wrapper">
                    <eox-itemfilter-chips
                      .items=${ou(this.filters)}
                      .controller=${{remove:e=>le(this,De,ea).call(this,e)}}
                    >
                    </eox-itemfilter-chips>
                  </div>

                  ${Ue(Xi(this.filters),()=>G`
                      <span
                        class="chip-close"
                        @click=${()=>this.dispatchEvent(new CustomEvent("reset"))}
                      ></span>
                    `)}
                </div>
                <div
                  class="input-container ${Xi(this.filters)?"dirty-filter-input":""}"
                >
                  <input
                    autocomplete="off"
                    id="eox-itemfilter-input-search"
                    type="text"
                    @click="${le(this,De,to)}"
                    @focus="${le(this,De,Qs)}"
                    @input="${le(this,De,ta)}"
                    placeholder="Search and add filter"
                    aria-haspopup="true"
                    aria-expanded="${this.showDropdown}"
                  />
                </div>
              </div>
              <div popover="manual">
                <div
                  class="inline-content"
                  slot="content"
                  @keydown="${le(this,De,eo)}"
                  @click="${le(this,De,ro)}"
                  @focus="${le(this,De,ro)}"
                >
                  <slot name="section"></slot>
                </div>
              </div>
            </div>
          `:G`<slot name="section"></slot>`}
    `}}De=new WeakSet,ts=function(){setTimeout(()=>this._overlayCleanup=uc(this))},Ji=function(){document.addEventListener("click",this._handleClickOutside),document.addEventListener("focusout",this._handleClickOutside),document.addEventListener("keydown",this._handleKeyDown),le(this,De,ts).call(this)},Qi=function(){document.removeEventListener("click",this._handleClickOutside),document.removeEventListener("focusout",this._handleClickOutside),document.removeEventListener("keydown",this._handleKeyDown),this._overlayCleanup()},Js=function(t){gc(t,this)},eo=function(t){fc(t,this)},to=function(t){pc(t,this)},Qs=function(){dc(this)},ro=function(t){hc(t,this)},ea=function(t){Fl(t,this)},ta=function(t){js(t,this)};customElements.define("eox-itemfilter-container",au);var lu="Expected a function",rs=NaN,cu="[object Symbol]",uu=/^\s+|\s+$/g,hu=/^[-+]0x[0-9a-f]+$/i,du=/^0b[01]+$/i,pu=/^0o[0-7]+$/i,fu=parseInt,gu=typeof Xe=="object"&&Xe&&Xe.Object===Object&&Xe,mu=typeof self=="object"&&self&&self.Object===Object&&self,yu=gu||mu||Function("return this")(),bu=Object.prototype,vu=bu.toString,xu=Math.max,wu=Math.min,Ci=function(){return yu.Date.now()};function $u(t,e,r){var n,i,o,s,l,c,h=0,p=!1,m=!1,x=!0;if(typeof t!="function")throw new TypeError(lu);e=ns(e)||0,no(r)&&(p=!!r.leading,m="maxWait"in r,o=m?xu(ns(r.maxWait)||0,e):o,x="trailing"in r?!!r.trailing:x);function b(ne){var ue=n,we=i;return n=i=void 0,h=ne,s=t.apply(we,ue),s}function _(ne){return h=ne,l=setTimeout(T,e),p?b(ne):s}function A(ne){var ue=ne-c,we=ne-h,Se=e-ue;return m?wu(Se,o-we):Se}function H(ne){var ue=ne-c,we=ne-h;return c===void 0||ue>=e||ue<0||m&&we>=o}function T(){var ne=Ci();if(H(ne))return Z(ne);l=setTimeout(T,A(ne))}function Z(ne){return l=void 0,x&&n?b(ne):(n=i=void 0,s)}function K(){l!==void 0&&clearTimeout(l),h=0,n=c=i=l=void 0}function de(){return l===void 0?s:Z(Ci())}function Q(){var ne=Ci(),ue=H(ne);if(n=arguments,i=this,c=ne,ue){if(l===void 0)return _(c);if(m)return l=setTimeout(T,e),b(c)}return l===void 0&&(l=setTimeout(T,e)),s}return Q.cancel=K,Q.flush=de,Q}function no(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function _u(t){return!!t&&typeof t=="object"}function Su(t){return typeof t=="symbol"||_u(t)&&vu.call(t)==cu}function ns(t){if(typeof t=="number")return t;if(Su(t))return rs;if(no(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=no(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(uu,"");var r=du.test(t);return r||pu.test(t)?fu(t.slice(2),r?2:8):hu.test(t)?rs:+t}var Au=$u;const Xn=Gn(Au);function ku(t){const e=t.renderRoot.querySelector("input[type='text']");e.value="",Zn(t.filterObject),t.requestUpdate()}function Eu(t){const e=t.renderRoot.querySelector("input[type='text']");t.filterObject.keys.forEach(r=>{t.filterObject.state[r]=e.value}),t.filterObject.dirty=!0,t.filterObject.stringifiedState=e.value,t.dispatchEvent(new CustomEvent("filter")),e.value===""&&t.reset()}function Mu(t){Zn(t.filterObject),t.requestUpdate()}function Ou(t,e){const[r,n]=t.detail.values;(r!==e.filterObject.state.min||n!==e.filterObject.state.max)&&([e.filterObject.state.min,e.filterObject.state.max]=[r,n],e.filterObject.dirty=!0),e.filterObject.dirty&&(e.filterObject.stringifiedState=e.filterObject.format==="date"?`${Jr(r)} - ${Jr(n)}`:`${r} - ${n}`),e.dispatchEvent(new CustomEvent("filter")),r===e.filterObject.min&&n===e.filterObject.max?e.reset():e.requestUpdate()}function Lu(t,e,r){const n=r.filterObject.format==="date",i=r.filterObject.state[t],o=n?Jr.unix(i):i;return G`<div class="range-${e}">${o}</div>`}function ju(t){Cu(-1,t),Zn(t.filterObject),t.requestUpdate()}function Cu(t,e){e.selectedItems=[],$o(e),na(e)}function ra(t,e){const r=e.selectedItems.indexOf(t);r>=0?e.selectedItems=e.selectedItems.filter((n,i)=>i!==r):e.type==="multiselect"?e.selectedItems=[...e.selectedItems,t]:(e.selectedItems=[t],e.showSuggestions=!1),$o(e),na(e)}function Ru(t,e){e.query=t.target.value,e.showSuggestions=!0}function Pu(t,e){switch(t.key){case"ArrowDown":e.highlightedIndex=Math.min(e.highlightedIndex+1,e.filteredSuggestions.length-1);break;case"ArrowUp":e.highlightedIndex=Math.max(e.highlightedIndex-1,0);break;case"Enter":e.highlightedIndex>=0&&ra(e.filteredSuggestions[e.highlightedIndex],e);break;case"Escape":e.showSuggestions=!1;break}}function Tu(t,e){(t.has("suggestions")||t.has("query"))&&$o(e)}function Du(t,e){var r;const n=((r=t.filterObject)==null?void 0:r.sort)||((i,o)=>i.localeCompare(o));return e.sort(n).map(i=>i)}function $o(t){var e,r,n;let i;t.query&&(i=new Ct(t.suggestions,{threshold:.4}).search(t.query).map(o=>o.item)),t.filteredSuggestions=Du(t,i||t.suggestions),(e=t.filterObject)!=null&&e.filterKeys&&(t.filteredSuggestions=(r=t.filterObject)==null?void 0:r.filterKeys.map(o=>`${o}`),t.filterObject.state=(n=t.filterObject)==null?void 0:n.filterKeys.map(o=>`${o}`).reduce((o,s)=>(s in o||(o[s]=void 0),o),t.filterObject.state)),t.highlightedIndex=-1}function na(t){Object.keys(t.filterObject.state).forEach(e=>{t.filterObject.state[e]=t.selectedItems.includes(e)}),t.filterObject.stringifiedState=Object.keys(t.filterObject.state).filter(e=>t.filterObject.state[e]).join(", ")||"",t.filterObject.dirty=t.filterObject.stringifiedState.length>0,t.dispatchEvent(new CustomEvent("filter")),t.requestUpdate()}function Iu(t){Zn(t.filterObject),t.renderRoot.querySelector("eox-itemfilter-spatial-filter").reset(),t.requestUpdate()}function Nu(t){t.renderRoot.querySelector("#eox-map").innerHTML="",ia(t)}function Fu(t,e){e.filterObject.state.mode=t;const r=new CustomEvent("filter",{detail:{[e.filterObject.key]:{}}});e.dispatchEvent(r)}function ia(t){const e=t.renderRoot.querySelector("#eox-map");e.innerHTML===""&&(e.innerHTML='<eox-map part="map" style="height: 400px"></eox-map>');const r=t.geometry&&Hu(t.geometry),n=iu(t.geometry,r);t.eoxMap=t.renderRoot.querySelector("eox-map"),setTimeout(()=>{t.eoxMap.layers=n;const i=o=>{const s=new CustomEvent("filter",{detail:{geometry:{type:"Polygon",coordinates:o.getGeometry().clone().transform("EPSG:3857","EPSG:4326").getCoordinates()}}});t.dispatchEvent(s)};t.eoxMap.interactions.drawInteraction.on("drawend",o=>{i(o.feature),t.eoxMap.removeInteraction("drawInteraction")}),t.eoxMap.interactions.drawInteraction_modify.on("modifyend",o=>{i(o.features.getArray()[0])})},1e3)}function Hu(t){return`data:text/json,${encodeURIComponent(JSON.stringify({type:"FeatureCollection",features:[{type:"Feature",properties:null,geometry:t}]}))}`}var io;class Bu extends Je{constructor(){super(),Ze(this,io,()=>{Eu(this)}),qn(this,"debouncedInputHandler",Xn(tt(this,io),500,{leading:!0})),this.filterObject={},this.unstyled=!1,this.tabIndex=0}static get properties(){return{filterObject:{attribute:!1,type:Object},tabIndex:{attribute:!1,type:Number},unstyled:{type:Boolean}}}reset(){ku(this)}createRenderRoot(){return this}render(){return Ue(this.filterObject,()=>G`
        <style></style>
        <div class="text-container">
          <div class="text-container-wrapper">
            <input
              type="text"
              placeholder=${this.filterObject.placeholder}
              data-cy="search"
              class="text-input"
              part="input-search"
              value="${Object.values(this.filterObject.state)[0]}"
              tabindex=${this.tabIndex}
              @input="${this.debouncedInputHandler}"
              @click=${e=>e.stopPropagation()}
            />
          </div>
        </div>
      `)}}io=new WeakMap;customElements.define("eox-itemfilter-text",Bu);class oa extends Je{constructor(){super(...arguments),this.templates={},this._renderedTemplates={}}setBindingSyntax(e,r){this._startExpression=e,this._endExpression=r;const n=this.escapeRegex(this._startExpression),i=this.escapeRegex(this._endExpression);this._expression=new RegExp(`${n}\\s*([$\\w\\.,'"\\s()\\[\\]]+)\\s*${i}`,"g")}hasTemplate(e){return this.templates&&!!this.templates[e]}renderTemplate(e,r,n){if(!this.hasTemplate(e))return null;n=n||e;const i=G` <slot name=${n}></slot> `,o={[e]:{...r}};if(this._renderedTemplates.hasOwnProperty(n)){const{slot:l}=this._renderedTemplates[n];this.contains(l)&&this.removeChild(l)}const s=document.createElement("div");return s.slot=n,s.dataset.generated="template",this._renderTemplate(s,this.templates[e],o),this.appendChild(s),this._renderedTemplates[n]={context:o,slot:s},i}getTemplates(){const e={};for(let r=0;r<this.children.length;r++){const n=this.children[r];if(n.nodeName==="RENDER-TEMPLATE"){const i=n;i.dataset.type?e[i.dataset.type]=i:e.default=i,i.templateOrder=r}}return e}_renderTemplate(e,r,n){let i;if(r&&r.childNodes.length){const o=r.cloneNode(!0);i=this.renderNode(o,e,n)}i&&e.appendChild(i)}expandExpressionsAsString(e,r){return e.replace(this.expression,(n,i)=>{const o=this.evalInContext(i||this.trimExpression(n),r);return o?typeof o=="object"?JSON.stringify(o):o.toString():""})}get expression(){return this._expression||this.setBindingSyntax("{{","}}"),this._expression}escapeRegex(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}evalInContext(e,r){r={...r};const n=new Function("with(this) { return "+e+";}");let i;try{i=n.call(r)}catch{}return i}trimExpression(e){return e=e.trim(),e.startsWith(this._startExpression)&&e.endsWith(this._endExpression)&&(e=e.substr(this._startExpression.length,e.length-this._startExpression.length-this._endExpression.length),e=e.trim()),e}renderNode(e,r,n){if(e.nodeName==="#text")return e.textContent=this.expandExpressionsAsString(e.textContent,n),e;if(e.nodeName==="TEMPLATE")return e.$parentTemplateContext=n,e;for(let i=0;i<e.childNodes.length;i++){const o=e.childNodes[i];this.renderNode(o,r,n)}return e}firstUpdated(){this.templates=this.getTemplates()}}function zu(t,e,r){return t.filter(n=>{const i=n[r.config.aggregateResults];let o;return r.filters[r.config.aggregateResults]&&(o=Object.keys(r.filters[r.config.aggregateResults]).filter(s=>r.filters[r.config.aggregateResults].state[s])),(!(o!=null&&o.length)||o.includes(e))&&Array.isArray(i)?i.includes(e):i===e})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sa={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},aa=t=>(...e)=>({_$litDirective$:t,values:e});class la{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this.t=e,this._$AM=r,this.i=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:qu}=Ka,is=()=>document.createComment(""),Br=(t,e,r)=>{var n;const i=t._$AA.parentNode,o=e===void 0?t._$AB:e._$AA;if(r===void 0){const s=i.insertBefore(is(),o),l=i.insertBefore(is(),o);r=new qu(s,l,t,t.options)}else{const s=r._$AB.nextSibling,l=r._$AM,c=l!==t;if(c){let h;(n=r._$AQ)==null||n.call(r,t),r._$AM=t,r._$AP!==void 0&&(h=t._$AU)!==l._$AU&&r._$AP(h)}if(s!==o||c){let h=r._$AA;for(;h!==s;){const p=h.nextSibling;i.insertBefore(h,o),h=p}}}return r},Ut=(t,e,r=t)=>(t._$AI(e,r),t),Uu={},Wu=(t,e=Uu)=>t._$AH=e,Vu=t=>t._$AH,Ri=t=>{var e;(e=t._$AP)==null||e.call(t,!1,!0);let r=t._$AA;const n=t._$AB.nextSibling;for(;r!==n;){const i=r.nextSibling;r.remove(),r=i}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const os=(t,e,r)=>{const n=new Map;for(let i=e;i<=r;i++)n.set(t[i],i);return n},Yu=aa(class extends la{constructor(t){if(super(t),t.type!==sa.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,r){let n;r===void 0?r=e:e!==void 0&&(n=e);const i=[],o=[];let s=0;for(const l of t)i[s]=n?n(l,s):s,o[s]=r(l,s),s++;return{values:o,keys:i}}render(t,e,r){return this.dt(t,e,r).values}update(t,[e,r,n]){const i=Vu(t),{values:o,keys:s}=this.dt(e,r,n);if(!Array.isArray(i))return this.ut=s,o;const l=this.ut??(this.ut=[]),c=[];let h,p,m=0,x=i.length-1,b=0,_=o.length-1;for(;m<=x&&b<=_;)if(i[m]===null)m++;else if(i[x]===null)x--;else if(l[m]===s[b])c[b]=Ut(i[m],o[b]),m++,b++;else if(l[x]===s[_])c[_]=Ut(i[x],o[_]),x--,_--;else if(l[m]===s[_])c[_]=Ut(i[m],o[_]),Br(t,c[_+1],i[m]),m++,_--;else if(l[x]===s[b])c[b]=Ut(i[x],o[b]),Br(t,i[m],i[x]),x--,b++;else if(h===void 0&&(h=os(s,b,_),p=os(l,m,x)),h.has(l[m]))if(h.has(l[x])){const A=p.get(s[b]),H=A!==void 0?i[A]:null;if(H===null){const T=Br(t,i[m]);Ut(T,o[b]),c[b]=T}else c[b]=Ut(H,o[b]),Br(t,i[m],H),i[A]=null;b++}else Ri(i[x]),x--;else Ri(i[m]),m++;for(;b<=_;){const A=Br(t,c[_+1]);Ut(A,o[b]),c[b++]=A}for(;m<=x;){const A=i[m++];A!==null&&Ri(A)}return this.ut=s,Wu(t,c),Mt}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class oo extends la{constructor(e){if(super(e),this.it=ge,e.type!==sa.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===ge||e==null)return this._t=void 0,this.it=e;if(e===Mt)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const r=[e];return r.raw=r,this._t={_$litType$:this.constructor.resultType,strings:r,values:[]}}}oo.directiveName="unsafeHTML",oo.resultType=1;const Pi=aa(oo);function Ku(t,e){return G`
    <details
      class="details-results"
      @toggle=${e.handleAccordion}
      ?open=${e.config.expandResults||ge}
    >
      <summary>
        <span class="title">
          ${t}
          <span class="count"
            >${e.aggregateResults(e.results,t).length}</span
          >
        </span>
      </summary>
      <div>
        ${ca(t,e)}
      </div>
    </details>
  `}function ca(t,e){const r=e.results,n=t?e.aggregateResults(r,t):r,i=e.config,o=s=>{var l;return((l=e.selectedResult)==null?void 0:l[i.idProperty])===s[i.idProperty]?"highlighted":ge};return G`
    <ul>
      ${Yu(n,s=>s.id,s=>G`
          <li class=${o(s)}>
            <span
              id="${s.id}"
              @click=${()=>{e.selectedResult===s?e.selectedResult=null:e.selectedResult=s,e.dispatchEvent(new CustomEvent("result",{detail:e.selectedResult}))}}
            >
              ${Ue(e.hasTemplate("result"),()=>e.renderTemplate("result",s,`result-${s.id}`),()=>G`
                  ${Ue(i.subTitleProperty,()=>G`
                      <div class="title-container">
                        <span class="title"
                          >${Pi(s[i.titleProperty])}</span
                        >
                        <span class="subtitle"
                          >${Pi(s[i.subTitleProperty])}</span
                        >
                      </div>
                    `,()=>G`
                      <span class="title"
                        >${Pi(s[i.titleProperty])}</span
                      >
                    `)}
                `)}
            </span>
          </li>
        `)}
    </ul>
  `}var zr,so,ua;class Gu extends oa{constructor(){super(),Ze(this,zr),this.config=null,this.filters={},this.resultAggregation=[],this.selectedResult=null}static get properties(){return{config:{attribute:!1,type:Object},results:{state:!0,type:Object},filters:{state:!0,type:Object},resultAggregation:{attribute:!1,type:Array},selectedResult:{state:!0,type:Object}}}aggregateResults(e,r){return zu(e,r,this)}createRenderRoot(){return this}handleAccordion(e){Xs(e,this.config,this)}render(){return G`
      <section id="section-results">
        <div>
          <h6 style="padding: 8px 0px;">Results</h6>
        </div>
        <div id="container-results" class="scroll">
          ${Ue(this.results.length<1,()=>G`<small class="no-results">No matching items</small>`,()=>ge)}
          <ul id="results" part="results">
            ${Ue(this.config.aggregateResults,()=>Wn(this.resultAggregation.filter(e=>this.aggregateResults(this.results,e).length),e=>G`${Ue(this.aggregateResults(this.results,e).length===1&&this.config.autoSpreadSingle,()=>G`<div style="margin-left: -8px">
                          ${le(this,zr,so).call(this,e)}
                        </div>`,()=>le(this,zr,ua).call(this,e))}`),()=>le(this,zr,so).call(this))}
          </ul>
        </div>
      </section>
    `}}zr=new WeakSet,so=function(t){return ca(t,this)},ua=function(t){return Ku(t,this)};customElements.define("eox-itemfilter-results",Gu);const Zu=`input[type="checkbox"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}input[type="checkbox"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-blank-outline%3C/title%3E%3Cpath d='M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="checkbox"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Echeckbox-marked%3C/title%3E%3Cpath d='M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z' /%3E%3C/svg%3E");}`,Xu=`input[type="radio"] { appearance: none; -webkit-appearance: none; margin: 0; cursor: pointer; display: flex; flex-direction: row; align-items: center; width: 24px; height: 24px;}label span { font-size: small;}input[type="radio"]:after { display: block; content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-blank%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z' /%3E%3C/svg%3E"); width: 20px; height: 20px; margin-right: 4px;}input[type="radio"]:checked:after { content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23004170' viewBox='0 0 24 24'%3E%3Ctitle%3Eradiobox-marked%3C/title%3E%3Cpath d='M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7Z' /%3E%3C/svg%3E");}`;var qr,ha,da,pa;class fa extends Je{constructor(){super(),Ze(this,qr),qn(this,"debouncedInputHandler",Xn(le(this,qr,pa),500,{leading:!0})),this.filterObject={},this.suggestions=[],this.selectedItems=[],this.query="",this.showSuggestions=!1,this.highlightedIndex=-1,this.filteredSuggestions=[],this.type="select",this.unstyled=!1,this.tabIndex=0,this.inlineMode=!1}updated(e){Tu(e,this)}reset(){ju(this)}firstUpdated(){this.filterObject.state&&(this.selectedItems=Object.keys(this.filterObject.state).map(e=>this.filterObject.state[e]?e:null).filter(e=>!!e),this.filterObject.stringifiedState=this.selectedItems.join(", ")||"",this.requestUpdate())}render(){const e=this.type.includes("multi")?"checkbox":"radio",r=this.filteredSuggestions.length>5?"select-overflow":ge;return G`
      <style>
        ${!this.unstyled&&tn}
        ${!this.unstyled&&Zu}
        ${!this.unstyled&&Xu}
      </style>
      ${Ue(this.suggestions.length>10,()=>G`<div class="autocomplete-container">
          <div class="autocomplete-container-wrapper">
            <input
              autocomplete="off"
              tabindex=${this.tabIndex}
              class="autocomplete-input"
              type="text"
              .value=${this.query}
              placeholder="${this.filterObject.placeholder||""}"
              @input=${le(this,qr,ha)}
              @keydown=${le(this,qr,da)}
              @blur=${()=>this.showSuggestions=!1}
              @focus=${()=>this.showSuggestions=!0}
            />
          </div>
        </div>`)}
      <div class="select-container ${r}">
        <ul class="${this.type}">
          ${this.filteredSuggestions.map(n=>G`
              <li
                data-identifier="${n.toString().toLowerCase()}"
                data-title="${n}"
              >
                <label>
                  <input
                    type="${e}"
                    name=${n}
                    .checked=${this.selectedItems.includes(n)}
                    @change=${()=>this.debouncedInputHandler(n)}
                    @keydown=${i=>{i.key===" "&&this.inlineMode&&this.debouncedInputHandler(n)}}
                    tabindex=${this.tabIndex+1}
                  />
                  <span class="title">${n}</span>
                </label>
              </li>
            `)}
        </ul>
      </div>
    `}}qr=new WeakSet,ha=function(t){Ru(t,this)},da=function(t){Pu(t,this)},pa=function(t){ra(t,this)},qn(fa,"properties",{filterObject:{attribute:!1,type:Object},suggestions:{attribute:!1,type:Array},selectedItems:{state:!0,type:Array},query:{state:!0,type:String},showSuggestions:{state:!0,type:Boolean},highlightedIndex:{state:!0,type:Number},filteredSuggestions:{state:!0,type:Array},type:{attribute:!0,type:String},unstyled:{type:Boolean},tabIndex:{attribute:!1,type:Number},inlineMode:{attribute:"inline-mode",type:Boolean}});customElements.define("eox-itemfilter-select",fa);(()=>{var t=Object.defineProperty,e=Math.pow,r=(u,g,$)=>g in u?t(u,g,{enumerable:!0,configurable:!0,writable:!0,value:$}):u[g]=$,n=(u,g,$)=>(r(u,typeof g!="symbol"?g+"":g,$),$),i=(u,g)=>` ${g&&g.length>0?g.map($=>`<link rel="stylesheet" href="${$}" />`).join(""):""} <style> ${u} </style> <div class="range-slider-box"> <div class="row"> <div id="range-slider" class="range-slider"> <div class="container"> <div class="panel"></div> <div class="panel-fill"></div> <div class="container"> <div class="pointer" tabindex="0" role="slider"> <div class="pointer-shape"></div> </div> </div> </div> </div> </div> </div>`,o=":host{--width:300px;--height:.25rem;--opacity:.4;--panel-bg:#cbd5e1;--panel-bg-hover:#94a3b8;--panel-bg-fill:#475569;--panel-bg-border-radius:1rem;--pointer-width:1rem;--pointer-height:1rem;--pointer-bg:#fff;--pointer-bg-hover:#dcdcdc;--pointer-bg-focus:#dcdcdc;--pointer-shadow:0 0 2px rgba(0,0,0,0.8);--pointer-shadow-hover:0 0 2px #000;--pointer-shadow-focus:var(--pointer-shadow-hover);--pointer-border:1px solid hsla(0,0%,88%,0.5);--pointer-border-hover:1px solid #94a3b8;--pointer-border-focus:var(--pointer-border-hover);--pointer-border-radius:100%;--animate-onclick:.3s}:host{max-width:100%}.range-slider-box{display:flex;position:relative;flex-direction:column}.range-slider{position:relative;width:var(--width,100%);height:var(--height,0.25rem);touch-action:none;max-width:100%;box-sizing:border-box;cursor:pointer}.row{width:100%;display:flex;align-items:center}.range-slider.disabled{opacity:var(--opacity,0.4);cursor:default}.pointer.disabled{-webkit-filter:brightness(0.8);filter:brightness(0.8);cursor:default}.range-slider *{box-sizing:border-box}.container{position:absolute;width:100%;height:100%}.panel{position:absolute;z-index:10;width:100%;height:100%;background:var(--panel-bg,#2d4373);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;transition:.3s all ease}.panel-fill{background:var(--panel-bg-fill,#000);border-radius:var(--panel-bg-border-radius,1rem);overflow:hidden;height:100%;position:absolute;z-index:10}.panel:hover{background:var(--panel-bg-hover,#5f79b7)}.disabled .panel:hover{background:var(--panel-bg,#5f79b7)}.pointer{position:absolute;z-index:20;outline:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;box-shadow:var(--pointer-shadow);border:var(--pointer-border);border-radius:var(--pointer-border-radius,100%);-webkit-transform:translateX(-50%);transform:translateX(-50%);width:var(--pointer-width,15px);height:var(--pointer-height,15px);transition:.3s all ease}.pointer-shape:hover{background:var(--pointer-bg-hover,#fff);background-size:contain;border:var(--pointer-border-hover);box-shadow:var(--pointer-shadow-hover)}.disabled .pointer-shape:hover{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.pointer:focus .pointer-shape{background:var(--pointer-bg-focus,#fff);background-size:contain;border:var(--pointer-border-focus);box-shadow:var(--pointer-shadow-focus)}.disabled .pointer:focus .pointer-shape{background:var(--pointer-bg,#fff);background-size:contain;border:var(--pointer-border);box-shadow:var(--pointer-shadow)}.type-vertical .range-slider{--width:.25rem;--height:300px;max-height:100%}.type-vertical .range-slider .pointer{left:50%}.type-vertical .range-slider .panel-fill{width:100%}.type-vertical.range-slider-box{flex-direction:row}.type-vertical .row{flex-direction:column}.animate-on-click .pointer,.animate-on-click .panel-fill{transition:all var(--animate-onclick)}.range-dragging .panel-fill{cursor:move}",s="pointers-overlap",l="pointers-min-distance",c="pointers-max-distance",h="range-dragging",p="data",m="min",x="max",b="step",_="round",A="type",H="theme",T="rtl",Z="btt",K="disabled",de="keyboard-disabled",Q="mousewheel-disabled",ne="slider-width",ue="slider-height",we="slider-radius",Se="slider-bg",pe="slider-bg-hover",ie="slider-bg-fill",We="pointer-width",Pe="pointer-height",N="pointer-radius",M="pointer-bg",k="pointer-bg-hover",D="pointer-bg-focus",O="pointer-shadow",W="pointer-shadow-hover",V="pointer-shadow-focus",ce="pointer-border",ve="pointer-border-hover",_e="pointer-border-focus",Ae="animate-onclick",Ie="css-links",Ee="vertical",Ne="horizontal",oe=(u,g,$,v,E)=>{let B=g-u;return B===0?$:(v-$)*(E-u)/B+$},Me=u=>!isNaN(parseFloat(u))&&isFinite(u),te=(u,g)=>Me(u)?Number(u):g,Oe=(u,g)=>g===0?0:Math.round(u/g)*g,lt=(u,g=1/0)=>{if(g===1/0)return u;let $=e(10,g);return Math.round(u*$)/$},xe=u=>u==null?!1:typeof u=="boolean"?u:u.trim().toLowerCase()==="true",ei=(u,g)=>{u.dispatchEvent(new CustomEvent("onPointerClicked",{detail:{$pointer:g}}))},nn=(u,g)=>{u.dispatchEvent(new CustomEvent("onMouseDown",{detail:{nativeEvent:g}}))},on=(u,g)=>{u.dispatchEvent(new CustomEvent("onMouseUp",{detail:{nativeEvent:g}}))},sn=(u,g)=>{u.dispatchEvent(new CustomEvent("onKeyDown",{detail:{nativeEvent:g}}))},ti=(u,g)=>{if(!g||g.length<=0)return;let $=g.map(E=>Me(E)?te(E,E):E),v={values:$||[]};v.value=$[0],v.value0=$[0],v.value1=$[0];for(let E=1;E<$.length;E++)v[`value${E+1}`]=$[E];u.dispatchEvent(new CustomEvent("change",{detail:v}))},_r=(u,g,$)=>{let v=0,E,B,z,L,C=!1,X=(q,fe,Le,ke,$e,ye)=>{let Fe=v;Le!==void 0&&q>Le&&(q=Le),fe!==void 0&&q<fe&&(q=fe),v=q;let He=v;return(ke===Ee&&ye||ke===Ne&&$e)&&(He=100-He),ke===Ee?g.style.top=`${He}%`:g.style.left=`${He}%`,Fe!==v},re=q=>q===g||g.contains(q),F=(q,fe,Le,ke)=>{E=q,B=fe,z=Le,L=ke},se=q=>{C=q,g.classList.toggle("disabled",C),C?g.setAttribute("aria-disabled","true"):g.hasAttribute("aria-disabled")&&g.removeAttribute("aria-disabled")},Ye=(q,fe)=>{fe==null?g.removeAttribute(q):g.setAttribute(q,fe)},Ce=q=>g.getAttribute(q),I=q=>{if(!C){switch(q.key){case"ArrowLeft":{q.preventDefault(),typeof E=="function"&&E($);break}case"ArrowRight":{q.preventDefault(),typeof B=="function"&&B($);break}case"ArrowUp":{q.preventDefault(),typeof z=="function"&&z($);break}case"ArrowDown":{q.preventDefault(),typeof L=="function"&&L($);break}}sn(u,q)}},ee=()=>{C||ei(u,g)};return g.className=`pointer pointer-${$}`,g.addEventListener("keydown",I),g.addEventListener("click",ee),{$pointer:g,get percent(){return v},get disabled(){return C},set disabled(q){se(q)},updatePosition:X,isClicked:re,setCallbacks:F,setAttr:Ye,getAttr:Ce,destroy:()=>{g.removeEventListener("keydown",I),g.removeEventListener("click",ee),g.remove()}}},ri=u=>{if(u==null)return;if(Array.isArray(u))return u;if(u.trim()==="")return;let g=u.split(","),$=[],v=!0;for(let E=0;E<g.length;E++){let B=g[E].trim();B!==""&&($.push(B),Me(B)||(v=!1))}return v?$.map(E=>Number(E)):$},ni=(u,g)=>g?g.findIndex($=>$===u||$.toString().trim()===u.toString().trim()):-1,ii=u=>({updatePosition:(g,$,v,E)=>{if($.length<=0)return;let B=$.length===1,z=$[0],L=$[$.length-1];g===Ee?(u.style.removeProperty("width"),u.style.removeProperty("right"),u.style.removeProperty("left"),B?u.style.height=`${z}%`:u.style.height=`${Math.abs(z-L)}%`,E?(u.style.bottom="0%",B?u.style.top="auto":u.style.top=`${Math.min(100-L,100-z)}%`):(u.style.bottom="auto",B?u.style.top="0%":u.style.top=`${Math.min(z,L)}%`)):(u.style.removeProperty("height"),u.style.removeProperty("top"),u.style.removeProperty("bottom"),B?u.style.width=`${z}%`:u.style.width=`${Math.abs(z-L)}%`,v?(u.style.right="0%",B?u.style.left="auto":u.style.left=`${Math.min(100-L,100-z)}%`):(u.style.right="auto",B?u.style.left="0%":u.style.left=`${Math.min(z,L)}%`))}}),an="--animate-onclick",oi="--width",Sr="--height",si="--panel-bg-border-radius",ai="--panel-bg",li="--panel-bg-hover",ci="--panel-bg-fill",ui="--pointer-width",Jt="--pointer-height",Ar="--pointer-border-radius",ln="--pointer-bg",cn="--pointer-bg-hover",nt="--pointer-bg-focus",_t="--pointer-shadow",hi="--pointer-shadow-hover",Qt="--pointer-shadow-focus",un="--pointer-border",di="--pointer-border-hover",pi="--pointer-border-focus",Rt=(u,g,$)=>{let v=new Map;for(let E of u.attributes){let B=E.nodeName.trim().toLowerCase();if(!g.test(B))continue;let z=B.replace(/\D/g,"").trim(),L=z===""||z==="0"||z==="1"?0:te(z,0)-1,C=$&&typeof $=="function"?$(E.value):E.value;v.set(L,C)}return v},fi=u=>{if(!u)return null;let g=u.getAttribute(Ie);if(!g)return null;let $=g.split(";"),v=[];for(let E of $)E.trim()!==""&&v.push(E.trim());return v},er=[[oi,ne,"sliderWidth",null],[Sr,ue,"sliderHeight",null],[si,we,"sliderRadius",null],[ai,Se,"sliderBg",null],[li,pe,"sliderBgHover",null],[ci,ie,"sliderBgFill",null],[ui,We,"pointer#Width",/^pointer([0-9]*)-width$/],[Jt,Pe,"pointer#Height",/^pointer([0-9]*)-height$/],[Ar,N,"pointer#Radius",/^pointer([0-9]*)-radius$/],[ln,M,"pointer#Bg",/^pointer([0-9]*)-bg$/],[cn,k,"pointer#BgHover",/^pointer([0-9]*)-bg-hover$/],[nt,D,"pointer#BgFocus",/^pointer([0-9]*)-bg-focus$/],[_t,O,"pointer#Shadow",/^pointer([0-9]*)-shadow$/],[hi,W,"pointer#ShadowHover",/^pointer([0-9]*)-shadow-hover$/],[Qt,V,"pointer#ShadowFocus",/^pointer([0-9]*)-shadow-focus$/],[un,ce,"pointer#Border",/^pointer([0-9]*)-border$/],[di,ve,"pointer#BorderHover",/^pointer([0-9]*)-border-hover$/],[pi,_e,"pointer#BorderFocus",/^pointer([0-9]*)-border-focus$/]],Pt=(u,g,$)=>{let v=null,E=[],B=new Map,z=(I,ee=g)=>{let q=[...ee.classList];for(let fe of q)fe.startsWith(I)&&g.classList.remove(fe)},L=()=>{z("shape");let I=g.querySelectorAll(".pointer");for(let ee of I)z("shape",ee)},C=I=>{v=I,z("theme-"),typeof I=="string"&&g.classList.add(`theme-${I}`)},X=()=>{if(L(),!(E.length<=0)){g.classList.add("shape",`shape-${E[0]}`);for(let I=1;I<E.length;I++){let ee=E[I];if(!ee)continue;let q=g.querySelector(`.pointer-${I}`);!q||q.classList.add("shape",`shape-${ee}`)}}},re=(I,ee)=>{E[I]=ee,X()},F=()=>{L();let I=Rt(u,/^pointer([0-9]*)-shape$/);if(!(I.size<=0)){for(let ee of I){let q=ee[0];E[q]=ee[1]}X()}},se=(I,ee)=>`${I}-${ee}`,Ye=(I,ee,q)=>{let fe=$[q];if(!fe)return;let Le=q===0?g:fe.$pointer;if(ee==null){B.has(se(I,q))&&B.delete(se(I,q)),Le.style.removeProperty(I);return}B.set(se(I,q),ee),Le.style.setProperty(I,ee)},Ce=(I,ee)=>B.get(se(I,ee));return(()=>{for(let I of er){let[ee,q,fe,Le]=I;if(Le){let $e=Rt(u,Le);for(let ye of $e){let Fe=ye[0],He=ye[1];Ye(ee,He,Fe)}}else{let $e=u.getAttribute(q);Ye(ee,$e,0)}let ke=[];if(fe.indexOf("#")===-1)ke.push([fe,0]);else{ke.push([fe.replace("#",""),0]),ke.push([fe.replace("#","0"),0]),ke.push([fe.replace("#","1"),0]);for(let $e=1;$e<$.length;$e++)ke.push([fe.replace("#",($e+1).toString()),$e])}for(let $e of ke)try{let ye=$e[0],Fe=$e[1];Object.prototype.hasOwnProperty.call(u,ye)||Object.defineProperty(u,ye,{get(){return Ce(ee,Fe)},set:He=>{Ye(ee,He,Fe)}})}catch(ye){console.error(ye)}}C(u.getAttribute(H)),F()})(),{setStyle:Ye,getStyle:Ce,get theme(){return v},set theme(I){C(I)},get pointerShapes(){return E},setPointerShape:re}},ct="animate-on-click",tr="range-dragging",kr=(u,g,$,v)=>{let E=[],B=re=>{for(let F of E)F.update&&typeof F.update=="function"&&F.update(re)},z=()=>{for(let re of E)re.destroy&&typeof re.destroy=="function"&&re.destroy()},L=(re,F)=>{for(let se of E)se.onAttrChange&&typeof se.onAttrChange=="function"&&se.onAttrChange(re,F)},C=re=>{if(re.gettersAndSetters){for(let F of re.gettersAndSetters)if(!(!F.name||!F.attributes))try{Object.prototype.hasOwnProperty.call(u,F.name)||Object.defineProperty(u,F.name,F.attributes)}catch(se){console.error("defineSettersGetters error:",se)}}},X=re=>{var F;if(!re.css)return;let se=(F=u.shadowRoot)==null?void 0:F.querySelector("style");!se||(se.innerHTML+=re.css)};return{init:()=>{if(window.tcRangeSliderPlugins)for(let re of window.tcRangeSliderPlugins){let F=re();E.push(F),F.init&&typeof F.init=="function"&&(F.init(u,g,$,v),C(F),X(F))}},update:B,onAttrChange:L,destroy:z}},Tt=10,hn=20,gi=(u,g)=>{let $=new Map,v=/^value([0-9]*)$/;for(let L of u.attributes){let C=L.nodeName.trim().toLowerCase();if(!v.test(C))continue;let X=C.replace("value","").trim(),re=X===""||X==="0"||X==="1"?0:te(X,0)-1,F=Me(L.value)?te(L.value,0):L.value;$.set(re,F)}let E=Math.max(...Array.from($.keys())),B=[];B.push([_r(u,g,0),$.get(0)]);let z=g;for(let L=1;L<=E;L++){let C=g.cloneNode(!0);z.after(C),z=C,B.push([_r(u,C,L),$.get(L)])}return B},dn=(u,g,$,v,E,B,z)=>{try{Object.defineProperty(u,v,{configurable:!0,get(){if(!g)return;let L=g.pointers[$];if(!L)return;let C=g.getTextValue(L.percent);return Me(C)?te(C,C):C},set:L=>{g.pointers[$]?g==null||g.setValue(L,$):g==null||g.addPointer(L)}}),Object.defineProperty(u,E,{configurable:!0,get(){var L,C;return(C=(L=g==null?void 0:g.pointers[$])==null?void 0:L.getAttr("aria-label"))!=null?C:void 0},set:L=>{!g||g.setAriaLabel($,L)}}),Object.defineProperty(u,B,{configurable:!0,get(){var L,C;return(C=(L=g==null?void 0:g.styles)==null?void 0:L.pointerShapes[$])!=null?C:null},set:L=>{!g||!g.styles||g.styles.setPointerShape($,L)}}),Object.defineProperty(u,z,{configurable:!0,get(){var L;return(L=g==null?void 0:g.pointers[$].disabled)!=null?L:!1},set:L=>{if(!g)return;let C=g==null?void 0:g.pointers[$];!C||(C.disabled=L)}})}catch(L){console.error(L)}},mi=(u,g)=>{let $=[["value","ariaLabel","pointerShape","pointerDisabled",0],["value0","ariaLabel0","pointerShape0","pointer0Disabled",0],["value1","ariaLabel1","pointerShape1","pointer1Disabled",0]];for(let v=2;v<Tt;v++)$.push([`value${v}`,`ariaLabel${v}`,`pointer${v}Shape`,`pointer${v}Disabled`,v-1]);for(let v of $)dn(u,g,v[4],v[0],v[1],v[2],v[3])},pn=(u,g,$)=>{var v;let E=(v=$.shadowRoot)==null?void 0:v.querySelector(".container");if(E)for(let B of u)g?E.prepend(B.$pointer):E.append(B.$pointer)},rr=(u,g)=>{if(!(!g||u.length<=1)){for(let $ of u)$.$pointer.style.zIndex=hn.toString();g.$pointer.style.zIndex=(hn*2).toString()}},Dt=0,St=100,Ve=2,fn="0.3s",yi=(u,g,$)=>{let v=$.map(f=>f[0]),E=null,B=null,z=null,L=null,C=Dt,X=St,re,F,se=Ne,Ye=Ve,Ce=!1,I=!1,ee=!1,q=0,fe=1/0,Le=!1,ke,$e,ye=!1,Fe=!1,He=!1,ut=fn,gn=[],Mr=f=>{ye||(f.preventDefault&&f.preventDefault(),gt(f),window.addEventListener("mousemove",gt),window.addEventListener("mouseup",nr),nn(u,f))},nr=f=>{ye||(ke=void 0,$e=void 0,window.removeEventListener("mousemove",gt),window.removeEventListener("mouseup",nr),ut&&g.classList.add(ct),on(u,f))},xi=(f,w)=>{if(v.length<=0)return;if(v.length===1)return v[0].isClicked(f)&&ut&&g.classList.remove(ct),v[0];let R=$i(f);if(Le){let ae=w,qe=Ft(ae);qe!==void 0&&(ae=Oe(ae,qe)),R?(ke=ae,$e=0,ut&&g.classList.remove(ct)):ke!==void 0&&($e=ae-ke,ke=ae)}if(!wi(f)&&!R){for(let ae of v)if(!(!ae.isClicked(f)||ae.disabled))return ut&&g.classList.remove(ct),ae;for(let ae of v)if(E===ae)return ae}let J=1/0,he=null;for(let ae of v){if(ae.disabled)continue;let qe=Math.abs(w-ae.percent);qe<J&&(J=qe,he=ae)}return he},ir=()=>v.findIndex(f=>E===f&&!f.disabled),gt=f=>{let w;if(se===Ee){let{height:J,top:he}=g.getBoundingClientRect(),ae=f.type.indexOf("mouse")!==-1?f.clientY:f.touches[0].clientY;w=Math.min(Math.max(0,ae-he),J)*100/J}else{let{width:J,left:he}=g.getBoundingClientRect(),ae=f.type.indexOf("mouse")!==-1?f.clientX:f.touches[0].clientX;w=Math.min(Math.max(0,ae-he),J)*100/J}if((Ce||I)&&(w=100-w),E=xi(f.target,w),E&&rr(v,E),Le&&v.length>1&&$e!==void 0){let J=v[0],he=v[v.length-1],ae=J.percent+$e<0,qe=he.percent+$e>100;if(ae||qe)return;for(let xt=0;xt<v.length;xt++)je(xt,v[xt].percent+$e);return}let R=ir();R!==-1&&(je(R,w),E==null||E.$pointer.focus())},or=f=>{if(ye||document.activeElement!==u||E!=null&&E.disabled)return;f.stopPropagation(),f.preventDefault();let w=f.deltaY<0,R=Ce||I,J=w?!R:R,he=ir();he!==-1&&(J?It(he,v[he].percent):Nt(he,v[he].percent))},mn=f=>{ye||Fe||(se===Ee?I?je(f,100):je(f,0):Ce?Nt(f,v[f].percent):It(f,v[f].percent))},yn=f=>{ye||Fe||(se===Ee?I?je(f,0):je(f,100):Ce?It(f,v[f].percent):Nt(f,v[f].percent))},bn=f=>{ye||Fe||(se===Ee?I?Nt(f,v[f].percent):It(f,v[f].percent):Ce?je(f,100):je(f,0))},vn=f=>{ye||Fe||(se===Ee?I?It(f,v[f].percent):Nt(f,v[f].percent):Ce?je(f,0):je(f,100))},wi=f=>f.classList.contains("panel"),$i=f=>f.classList.contains("panel-fill"),It=(f,w)=>{if(w===void 0)return;let R=Ft(w);R==null&&(R=1),w-=R,w<0&&(w=0),je(f,w)},Nt=(f,w)=>{if(w===void 0)return;let R=Ft(w);R==null&&(R=1),w+=R,w>100&&(w=100),je(f,w)},mt=()=>{!L||L.update({percents:wn(),values:$n(),$pointers:Lr(),min:Ht(),max:_n(),data:jr(),step:Or(),round:ar(),type:Cr(),textMin:sr(),textMax:yt(),rightToLeft:it(),bottomToTop:Pr(),pointersOverlap:zt(),pointersMinDistance:lr(),pointersMaxDistance:Rr(),rangeDragging:Ke(),disabled:Tr(),keyboardDisabled:Bt(),mousewheelDisabled:ur()})},xn=()=>{mt()},_i=f=>{if(!(ee||v.length<=1||X===C))if(f===0){let w=fe*100/(X-C);return Math.max(0,v[f+1].percent-w)}else{let w=q*100/(X-C);return Math.min(v[f-1].percent+w,100)}},Si=f=>{if(!(ee||v.length<=1||X===C))if(f===v.length-1){let w=fe*100/(X-C);return Math.min(v[f-1].percent+w,100)}else{let w=q*100/(X-C);return Math.max(0,v[f+1].percent-w)}},Ft=f=>{let w;if(typeof re=="function"){let R=oe(0,100,C,X,f);w=re(R,f)}else w=re;if(Me(w)){let R=X-C;return w=R===0?0:w*100/R,w}},At=f=>{if(f===void 0)return;let w=oe(0,100,C,X,f);return F!==void 0?F[Math.round(w)]:lt(w,Ye)},sr=()=>F!==void 0?F[C]:C,yt=()=>F!==void 0?F[X]:X,Or=()=>re,kt=f=>{var w;return f<=0||ee?sr():(w=At(v[f-1].percent))!=null?w:""},ht=f=>{var w;return v.length<=1||f>=v.length-1||ee?yt():(w=At(v[f+1].percent))!=null?w:""},wn=()=>v.map(f=>f.percent),$n=()=>v.map(f=>At(f.percent)),Lr=()=>v.map(f=>f.$pointer),Ht=()=>C,_n=()=>X,jr=()=>F,Cr=()=>se,ar=()=>Ye,lr=()=>q,Rr=()=>fe,cr=f=>gn[f],it=()=>Ce,Pr=()=>I,Tr=()=>ye,Bt=()=>Fe,ur=()=>He,zt=()=>ee,Ke=()=>Le,je=(f,w)=>{if(w===void 0)return;let R=Ft(w);R!==void 0&&(w=Oe(w,R));let J=v[f];if(!J)return;let he=J.updatePosition(w,_i(f),Si(f),se,Ce,I);B==null||B.updatePosition(se,v.map(ae=>ae.percent),Ce,I),mt();for(let ae of v){let qe=At(ae.percent);qe!==void 0&&(ae.setAttr("aria-valuenow",qe.toString()),ae.setAttr("aria-valuetext",qe.toString()))}Dr(),he&&ti(u,v.map(ae=>At(ae.percent)))},et=()=>{for(let f=0;f<v.length;f++)je(f,v[f].percent)},Sn=(f,w)=>{C=F!==void 0?0:te(f,Dt),X=F!==void 0?F.length-1:te(w,St),bt(C),vt(X)},Dr=()=>{var f,w;for(let R=0;R<v.length;R++){let J=v[R];J.setAttr("aria-valuemin",((f=kt(R))!=null?f:"").toString()),J.setAttr("aria-valuemax",((w=ht(R))!=null?w:"").toString())}},bt=f=>{C=te(f,Dt),C>X&&(X=C+St),et()},vt=f=>{X=te(f,St),X<C&&(X=C+St),et()},hr=f=>{ee=!0;for(let w=0;w<f.length;w++)dr(f[w],w);ee=!1;for(let w=0;w<f.length;w++)dr(f[w],w)},dr=(f,w)=>{let R;F!==void 0?(R=f==null?0:ni(f,F),R===-1&&(R=0)):(R=te(f,C),R<C&&(R=C),R>X&&(R=X));let J=oe(C,X,0,100,R);je(w,J)},pr=f=>{if(f==null){re=void 0;return}if(typeof f=="function"){re=f,et();return}if(Me(f)){re=te(f,1);let w=Math.abs(X-C);re>w&&(re=void 0),et();return}re=void 0},Ir=f=>{ee=f,et()},Nr=f=>{(!Me(f)||f<0)&&(f=0),q=f},Et=f=>{(!Me(f)||f<0)&&(f=1/0),fe=f},Fr=f=>{ye=f,g.classList.toggle("disabled",ye),ye?g.setAttribute("aria-disabled","true"):g.hasAttribute("aria-disabled")&&g.removeAttribute("aria-disabled")},An=f=>{Fe=f},a=f=>{He=f,He?document.removeEventListener("wheel",or):document.addEventListener("wheel",or,{passive:!1})},d=f=>{if(f==null){F=void 0;return}if(F=ri(f),F===void 0||F.length<=0){F=void 0;return}bt(0),vt(F.length-1),re===void 0&&pr(1)},y=f=>{var w;typeof f=="string"?se=f.trim().toLowerCase()===Ee?Ee:Ne:se=Ne;let R=(w=u.shadowRoot)==null?void 0:w.querySelector(".range-slider-box");if(!R)return;R.className=`range-slider-box type-${se}`,et();let J=se===Ee?"vertical":"horizontal";for(let he of v)he.setAttr("aria-orientation",J)},S=f=>{Ce=f,v.length>1&&pn(v,Ce,u),et(),mt()},P=f=>{I=f,v.length>1&&pn(v,I,u),et(),mt()},j=f=>{Ye=te(f,Ve),Ye<0&&(Ye=Ve),mt()},U=f=>{f==null||f.toString().trim().toLowerCase()==="false"?(ut=void 0,g.style.removeProperty(an),g.classList.remove(ct)):(ut=f.toString(),g.style.setProperty(an,ut),g.classList.add(ct))},be=(f,w)=>{let R=v[f];!R||(R.setAttr("aria-label",w),gn[f]=w)},me=f=>{if(ke=void 0,v.length<=1){Le=!1,g.classList.remove(tr);return}Le=f,g.classList.toggle(tr,Le)},Re=()=>{Fr(xe(u.getAttribute(K))),Fe=xe(u.getAttribute(de)),He=xe(u.getAttribute(Q));let f=Rt(u,/^pointer([0-9]*)-disabled$/,w=>xe(w));for(let w of f){let R=w[0];!v[R]||(v[R].disabled=w[1])}},Be=()=>{let f=Rt(u,/^aria-label([0-9]*)$/);for(let w of f){let R=w[0];be(R,w[1])}},ze=f=>{let w=v.length,R=v[w-1].$pointer,J=R.cloneNode(!0);R.after(J);let he=_r(u,J,w);return he.setCallbacks(mn,yn,bn,vn),v.push(he),dr(f,w),et(),mt(),w},Te=()=>{let f=v.length,w=v[f-1];return w?(w.destroy(),v.pop(),v.length<=1&&me(!1),et(),mt(),f-1):-1};return(()=>{var f,w;for(let J of v)J.setCallbacks(mn,yn,bn,vn);let R=(f=u.shadowRoot)==null?void 0:f.querySelector(".panel-fill");R&&(B=ii(R)),y(u.getAttribute(A)),S(xe(u.getAttribute(T))),P(xe(u.getAttribute(Z))),Sn(u.getAttribute(m),u.getAttribute(x)),pr(u.getAttribute(b)),d(u.getAttribute(p)),hr($.map(J=>J[1])),Ir(xe(u.getAttribute(s))),Nr(te(u.getAttribute(l),0)),Et(te(u.getAttribute(c),1/0)),me(xe(u.getAttribute(h))),j(te(u.getAttribute(_),Ve)),Re(),Be(),z=Pt(u,g,v),U((w=u.getAttribute(Ae))!=null?w:fn),g.addEventListener("mousedown",Mr),g.addEventListener("mouseup",nr),g.addEventListener("touchmove",gt),g.addEventListener("touchstart",gt),He||document.addEventListener("wheel",or,{passive:!1}),L=kr(u,xn,{setValues:hr,setMin:bt,setMax:vt,setStep:pr,setPointersOverlap:Ir,setPointersMinDistance:Nr,setPointersMaxDistance:Et,setDisabled:Fr,setType:y,setRightToLeft:S,setBottomToTop:P,setRound:j,setKeyboardDisabled:An,setMousewheelDisabled:a,setRangeDragging:me,setData:d},{getPercents:wn,getValues:$n,getPointerElements:Lr,getMin:Ht,getMax:_n,getStep:Or,getData:jr,getType:Cr,getRound:ar,getTextMin:sr,getTextMax:yt,isRightToLeft:it,isBottomToTop:Pr,isDisabled:Tr,isKeyboardDisabled:Bt,isMousewheelDisabled:ur,isPointersOverlap:zt,isRangeDraggingEnabled:Ke,getPointersMinDistance:lr,getPointersMaxDistance:Rr}),L.init()})(),{get pointers(){return v},get styles(){return z},get pluginsManager(){return L},get min(){return sr()},get max(){return yt()},get step(){return Or()},get pointersOverlap(){return zt()},set pointersOverlap(f){Ir(f)},get pointersMinDistance(){return lr()},set pointersMinDistance(f){Nr(f)},get pointersMaxDistance(){return Rr()},set pointersMaxDistance(f){Et(f)},get disabled(){return Tr()},set disabled(f){Fr(f)},get data(){return jr()},get type(){return Cr()},set type(f){y(f)},get rightToLeft(){return it()},set rightToLeft(f){S(f)},get bottomToTop(){return Pr()},set bottomToTop(f){P(f)},get round(){return ar()},set round(f){j(f)},get animateOnClick(){return ut},set animateOnClick(f){U(f)},get keyboardDisabled(){return Bt()},set keyboardDisabled(f){An(f)},get mousewheelDisabled(){return ur()},set mousewheelDisabled(f){a(f)},get rangeDragging(){return Ke()},set rangeDragging(f){me(f)},setMin:bt,setMax:vt,setValue:dr,setStep:pr,setData:d,getTextValue:At,setAriaLabel:be,getAriaLabel:cr,addPointer:ze,removePointer:Te,destroy:()=>{g.removeEventListener("mousedown",Mr),g.removeEventListener("mouseup",nr),g.removeEventListener("touchmove",gt),g.removeEventListener("touchstart",gt),document.removeEventListener("wheel",or);for(let f of v)f.destroy();L==null||L.destroy()}}},bi=(u,g,$)=>{let v=er.find(([L,C,X,re])=>C.replace("#","")===g.replace(/\d+/g,""));if(v&&u.styles){let[L,C,X,re]=v,F=g.replace(/\D/g,"").trim(),se=F===""||F==="0"||F==="1"?0:te(F,0)-1;u.styles.setStyle(L,$,se);return}switch(u&&u.pluginsManager&&u.pluginsManager.onAttrChange(g,$),g){case m:{u.setMin($);break}case x:{u.setMax($);break}case b:{u.setStep($);break}case s:{u.pointersOverlap=xe($);break}case l:{u.pointersMinDistance=te($,0);break}case h:{u.rangeDragging=xe($);break}case c:{u.pointersMaxDistance=te($,1/0);break}case K:{u.disabled=xe($);break}case de:{u.keyboardDisabled=xe($);break}case Q:{u.mousewheelDisabled=xe($);break}case p:{u.setData($);break}case A:{u.type=$;break}case T:{u.rightToLeft=xe($);break}case Z:{u.bottomToTop=xe($);break}case _:{u.round=te($,Ve);break}case H:{u.styles&&(u.styles.theme=$);break}case Ae:{u.animateOnClick=$;break}}let E=null;if(/^value([0-9]*)$/.test(g)&&(E="value"),/^pointer([0-9]*)-disabled$/.test(g)&&(E="pointer-disabled"),/^aria-label([0-9]*)$/.test(g)&&(E="aria-label"),/^pointer([0-9]*)-shape$/.test(g)&&(E="pointer-shape"),!E)return;let B=g.replace(/\D/g,"").trim(),z=B===""||B==="0"||B==="1"?0:te(B,0)-1;switch(E){case"value":{u.setValue($,z);break}case"pointer-disabled":{let L=u==null?void 0:u.pointers[z];if(!L)return;L.disabled=xe($);break}case"aria-label":{u.setAriaLabel(z,$);break}case"pointer-shape":{u.styles&&u.styles.setPointerShape(z,$);break}}},vi=class extends HTMLElement{constructor(){super(),n(this,"slider"),n(this,"_externalCSSList",[]),n(this,"_observer",null),this.attachShadow({mode:"open"})}set step(u){this.slider&&this.slider.setStep(u)}get step(){var u;return(u=this.slider)==null?void 0:u.step}set disabled(u){this.slider&&(this.slider.disabled=u)}get disabled(){var u,g;return(g=(u=this.slider)==null?void 0:u.disabled)!=null?g:!1}set data(u){var g;(g=this.slider)==null||g.setData(u)}get data(){var u;return(u=this.slider)==null?void 0:u.data}set min(u){var g;(g=this.slider)==null||g.setMin(u)}get min(){var u;return(u=this.slider)==null?void 0:u.min}set max(u){var g;(g=this.slider)==null||g.setMax(u)}get max(){var u;return(u=this.slider)==null?void 0:u.max}set round(u){!this.slider||(this.slider.round=u)}get round(){var u,g;return(g=(u=this.slider)==null?void 0:u.round)!=null?g:Ve}set type(u){!this.slider||(this.slider.type=u??Ne)}get type(){var u;return((u=this.slider)==null?void 0:u.type)||Ne}set pointersOverlap(u){!this.slider||(this.slider.pointersOverlap=u)}get pointersOverlap(){var u,g;return(g=(u=this.slider)==null?void 0:u.pointersOverlap)!=null?g:!1}set pointersMinDistance(u){!this.slider||(this.slider.pointersMinDistance=u)}get pointersMinDistance(){var u,g;return(g=(u=this.slider)==null?void 0:u.pointersMinDistance)!=null?g:0}set pointersMaxDistance(u){!this.slider||(this.slider.pointersMaxDistance=u)}get pointersMaxDistance(){var u,g;return(g=(u=this.slider)==null?void 0:u.pointersMaxDistance)!=null?g:1/0}set theme(u){!this.slider||!this.slider.styles||(this.slider.styles.theme=u)}get theme(){var u,g,$;return($=(g=(u=this.slider)==null?void 0:u.styles)==null?void 0:g.theme)!=null?$:null}set rtl(u){!this.slider||(this.slider.rightToLeft=u)}get rtl(){var u,g;return(g=(u=this.slider)==null?void 0:u.rightToLeft)!=null?g:!1}set btt(u){!this.slider||(this.slider.bottomToTop=u)}get btt(){var u,g;return(g=(u=this.slider)==null?void 0:u.bottomToTop)!=null?g:!1}set keyboardDisabled(u){!this.slider||(this.slider.keyboardDisabled=u)}get keyboardDisabled(){var u,g;return(g=(u=this.slider)==null?void 0:u.keyboardDisabled)!=null?g:!1}set mousewheelDisabled(u){!this.slider||(this.slider.mousewheelDisabled=u)}get mousewheelDisabled(){var u,g;return(g=(u=this.slider)==null?void 0:u.mousewheelDisabled)!=null?g:!1}set animateOnClick(u){!this.slider||(this.slider.animateOnClick=u)}get animateOnClick(){var u;return(u=this.slider)==null?void 0:u.animateOnClick}get rangeDragging(){var u,g;return(g=(u=this.slider)==null?void 0:u.rangeDragging)!=null?g:!1}set rangeDragging(u){this.slider&&(this.slider.rangeDragging=xe(u))}get externalCSSList(){return this._externalCSSList}addPointer(u){var g,$;if(!this.slider)return;let v=($=(g=this.slider)==null?void 0:g.addPointer(u))!=null?$:0;dn(this,this.slider,v,`value${v+1}`,`ariaLabel${v+1}`,`pointerShape${v+1}`,`pointer${v+1}Disabled`)}removePointer(){var u;!this.slider||(u=this.slider)==null||u.removePointer()}addCSS(u){if(!this.shadowRoot)return;let g=document.createElement("style");g.textContent=u,this.shadowRoot.appendChild(g)}connectedCallback(){var u,g;if(!this.shadowRoot)return;this._externalCSSList=fi(this),this.shadowRoot.innerHTML=i(o,this._externalCSSList);let $=(u=this.shadowRoot)==null?void 0:u.querySelector(".pointer");if(!$)return;let v=(g=this.shadowRoot)==null?void 0:g.getElementById("range-slider");if(!v)return;let E=gi(this,$);this.slider=yi(this,v,E),mi(this,this.slider),this._observer=new MutationObserver(B=>{B.forEach(z=>{var L;if(!this.slider||z.type!=="attributes")return;let C=z.attributeName;!C||bi(this.slider,C,(L=this.getAttribute(C))!=null?L:"")})}),this._observer.observe(this,{attributes:!0})}disconnectedCallback(){this._observer&&this._observer.disconnect(),this.slider&&this.slider.destroy()}},Er=vi;window.tcRangeSlider=Er,customElements.get("toolcool-range-slider")||customElements.define("toolcool-range-slider",Er),customElements.get("tc-range-slider")||customElements.define("tc-range-slider",class extends Er{})})();var Ur,ga,ao;class ma extends Je{constructor(){super(),Ze(this,Ur),this.filterObject={},this.tabIndex=0,this.inputHandler=le(this,Ur,ga).bind(this),this.debouncedInputHandler=Xn(this.inputHandler,0,{leading:!0})}reset(){Mu(this)}createRenderRoot(){return this}render(){return Ue(this.filterObject,()=>G`
        ${le(this,Ur,ao).call(this,"min","before")}
        <tc-range-slider
          min="${this.filterObject.min}"
          max="${this.filterObject.max}"
          value1="${this.filterObject.min||this.filterObject.state.min}"
          value2="${this.filterObject.max||this.filterObject.state.max}"
          step="${this.filterObject.step||1}"
          @change=${this.debouncedInputHandler}
        ></tc-range-slider>
        ${le(this,Ur,ao).call(this,"max","after")}
      `)}}Ur=new WeakSet,ga=function(t){Ou(t,this)},ao=function(t,e){return Lu(t,e,this)},qn(ma,"properties",{filterObject:{attribute:!1,type:Object},tabIndex:{attribute:!1,type:Number}});customElements.define("eox-itemfilter-range",ma);var lo,ya;class Ju extends Je{constructor(){super(),Ze(this,lo),this.filterObject={},this.tabIndex=0}static get properties(){return{filterObject:{type:Object},tabIndex:{attribute:!1,type:Number}}}reset(){Iu(this)}createRenderRoot(){return this}render(){return Ue(this.filterObject,()=>{var e;return G`
        <form style="display: inline">
          ${Wn(["intersects","within"],r=>G`
              <label>
                <input
                  tabindex=${this.tabIndex}
                  type="radio"
                  name="mode"
                  .checked="${(this.filterObject.state.mode||"")===r||ge}"
                  value="${r}"
                  @click=${()=>le(this,lo,ya).call(this,r)}
                />
                <small>${r} filter geometry</small>
              </label>
            `)}
        </form>
        <eox-itemfilter-spatial-filter
          exportparts="map: spatial-filter-map"
          .geometry="${(e=this.filterObject.state)==null?void 0:e.geometry}"
          @filter="${r=>{this.filterObject.state.geometry=r.detail.geometry,this.filterObject.dirty=!0,this.filterObject.stringifiedState="Polygon",this.dispatchEvent(new CustomEvent("filter"))}}"
        ></eox-itemfilter-spatial>
      `})}}lo=new WeakSet,ya=function(t){Fu(t,this)};customElements.define("eox-itemfilter-spatial",Ju);var co,ba;class Qu extends Je{constructor(){super(),Ze(this,co),this.geometry=null,this.eoxMap=null}static get properties(){return{geometry:{type:Object},eoxMap:{type:Object}}}firstUpdated(){le(this,co,ba).call(this)}reset(){Nu(this)}render(){return G`<div id="eox-map"></div>`}}co=new WeakSet,ba=function(){ia(this)};customElements.define("eox-itemfilter-spatial-filter",Qu);function eh(t,e){e.renderRoot.querySelectorAll(".chip").forEach(r=>{r.classList.remove("highlighted")}),t.target.classList.add("highlighted"),e.requestUpdate()}function th(t,e){const{code:r,target:n}=t;n.id==="eox-itemfilter-input-search"&&(e.parentElement.classList.contains("hidden")&&["ArrowLeft","ArrowRight","Backspace"].includes(r)||(r==="Space"&&t.preventDefault(),["Escape","Space","Enter"].includes(r)||t.stopPropagation(),["ArrowLeft","ArrowRight","Escape","Backspace"].includes(r)&&rh(r,t.target.value??"",e)))}function rh(t,e,r){const n=r.renderRoot.querySelector(".chip.highlighted");if((t==="Escape"||e)&&n&&n.classList.remove("highlighted"),t==="Backspace"&&!e){if(r.items.length){n&&(n.querySelector(".chip-item-close").click(),r.items.splice(Array.from(r.renderRoot.querySelectorAll(".chip")).indexOf(n),1));const i=r.renderRoot.querySelectorAll(".chip")[r.renderRoot.querySelectorAll(".chip").length-1];i.classList.contains("highlighted")||i.classList.add("highlighted"),r.requestUpdate()}r._dispatchEvent()}if((t==="ArrowLeft"||t==="ArrowRight")&&!e){if(r.renderRoot.querySelectorAll(".chip").length<1)return;let i=0;const o=r.renderRoot.querySelector(".chip.highlighted");o&&(i=Array.from(r.renderRoot.querySelectorAll(".chip")).indexOf(o),o.classList.remove("highlighted")),i=i+(t==="ArrowLeft"?-1:1),t==="ArrowLeft"&&i<0&&(i=r.renderRoot.querySelectorAll(".chip").length-1),t==="ArrowRight"&&i>r.renderRoot.querySelectorAll(".chip").length-1&&(i=0),Array.from(r.renderRoot.querySelectorAll(".chip"))[i].classList.add("highlighted")}}var Wr,uo,va;class nh extends Je{constructor(){super(),Ze(this,Wr),this.items={},this.controller={}}static get properties(){return{items:{attribute:!1,type:Object},controller:{attribute:!1,type:Object}}}connectedCallback(){super.connectedCallback(),this.getRootNode().addEventListener("keydown",le(this,Wr,uo).bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.getRootNode().removeEventListener("keydown",le(this,Wr,uo).bind(this))}_dispatchEvent(){this.dispatchEvent(new CustomEvent("items-selected",{detail:this.items}))}render(){return G`
      <style>
        ${tn}
      </style>
      <span class="chip-container">
        ${Wn(this.items,e=>G`
            <span class="chip" @click=${le(this,Wr,va).bind(this)}>
              <span class="chip-title">${e.title}</span>
                <span
                  class="chip-item-close hidden"
                  data-close=${e.key}
                  @click=${r=>{r.stopPropagation(),this.controller.remove(r),this.requestUpdate()}}
                ></span>
            </span>
            </span>
          `)}
      </span>
    `}}Wr=new WeakSet,uo=function(t){th(t,this)},va=function(t){eh(t,this)};customElements.define("eox-itemfilter-chips",nh);const ih=Object.freeze({aggregateResults:void 0,autoSpreadSingle:!1,enableHighlighting:!1,externalFilter:()=>{},filterProperties:[],fuseConfig:{},inlineMode:!1,matchAllWhenEmpty:!0,showResults:!0,idProperty:"id",titleProperty:"title",subTitleProperty:void 0,expandMultipleFilters:!0,expandResults:!0,expandMultipleResults:!0}),ss=["aggregateResults","autoSpreadSingle","enableHighlighting","externalFilter","filterProperties","fuseConfig","inlineMode","matchAllWhenEmpty","showResults","titleProperty","subTitleProperty","idProperty","expandMultipleFilters","expandResults","expandMultipleResults","items"];var oh=200,_o="__lodash_hash_undefined__",sh=1/0,ah="[object Function]",lh="[object GeneratorFunction]",ch=/[\\^$.*+?()[\]{}|]/g,uh=/^\[object .+?Constructor\]$/,hh=typeof Xe=="object"&&Xe&&Xe.Object===Object&&Xe,dh=typeof self=="object"&&self&&self.Object===Object&&self,So=hh||dh||Function("return this")();function ph(t,e){var r=t?t.length:0;return!!r&&gh(t,e,0)>-1}function fh(t,e,r,n){for(var i=t.length,o=r+-1;++o<i;)if(e(t[o],o,t))return o;return-1}function gh(t,e,r){if(e!==e)return fh(t,mh,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function mh(t){return t!==t}function yh(t,e){return t.has(e)}function bh(t,e){return t==null?void 0:t[e]}function vh(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function xa(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var xh=Array.prototype,wh=Function.prototype,wa=Object.prototype,Ti=So["__core-js_shared__"],as=function(){var t=/[^.]+$/.exec(Ti&&Ti.keys&&Ti.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$a=wh.toString,Ao=wa.hasOwnProperty,$h=wa.toString,_h=RegExp("^"+$a.call(Ao).replace(ch,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sh=xh.splice,Ah=ko(So,"Map"),Di=ko(So,"Set"),Qr=ko(Object,"create");function Xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kh(){this.__data__=Qr?Qr(null):{}}function Eh(t){return this.has(t)&&delete this.__data__[t]}function Mh(t){var e=this.__data__;if(Qr){var r=e[t];return r===_o?void 0:r}return Ao.call(e,t)?e[t]:void 0}function Oh(t){var e=this.__data__;return Qr?e[t]!==void 0:Ao.call(e,t)}function Lh(t,e){var r=this.__data__;return r[t]=Qr&&e===void 0?_o:e,this}Xt.prototype.clear=kh;Xt.prototype.delete=Eh;Xt.prototype.get=Mh;Xt.prototype.has=Oh;Xt.prototype.set=Lh;function wr(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function jh(){this.__data__=[]}function Ch(t){var e=this.__data__,r=Jn(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Sh.call(e,r,1),!0}function Rh(t){var e=this.__data__,r=Jn(e,t);return r<0?void 0:e[r][1]}function Ph(t){return Jn(this.__data__,t)>-1}function Th(t,e){var r=this.__data__,n=Jn(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}wr.prototype.clear=jh;wr.prototype.delete=Ch;wr.prototype.get=Rh;wr.prototype.has=Ph;wr.prototype.set=Th;function $r(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Dh(){this.__data__={hash:new Xt,map:new(Ah||wr),string:new Xt}}function Ih(t){return Qn(this,t).delete(t)}function Nh(t){return Qn(this,t).get(t)}function Fh(t){return Qn(this,t).has(t)}function Hh(t,e){return Qn(this,t).set(t,e),this}$r.prototype.clear=Dh;$r.prototype.delete=Ih;$r.prototype.get=Nh;$r.prototype.has=Fh;$r.prototype.set=Hh;function Bn(t){var e=-1,r=t?t.length:0;for(this.__data__=new $r;++e<r;)this.add(t[e])}function Bh(t){return this.__data__.set(t,_o),this}function zh(t){return this.__data__.has(t)}Bn.prototype.add=Bn.prototype.push=Bh;Bn.prototype.has=zh;function Jn(t,e){for(var r=t.length;r--;)if(Zh(t[r][0],e))return r;return-1}function qh(t){if(!_a(t)||Yh(t))return!1;var e=Xh(t)||vh(t)?_h:uh;return e.test(Kh(t))}function Uh(t,e,r){var n=-1,i=ph,o=t.length,s=!0,l=[],c=l;if(o>=oh){var h=Wh(t);if(h)return xa(h);s=!1,i=yh,c=new Bn}else c=l;e:for(;++n<o;){var p=t[n],m=p;if(p=p!==0?p:0,s&&m===m){for(var x=c.length;x--;)if(c[x]===m)continue e;l.push(p)}else i(c,m,r)||(c!==l&&c.push(m),l.push(p))}return l}var Wh=Di&&1/xa(new Di([,-0]))[1]==sh?function(t){return new Di(t)}:Jh;function Qn(t,e){var r=t.__data__;return Vh(e)?r[typeof e=="string"?"string":"hash"]:r.map}function ko(t,e){var r=bh(t,e);return qh(r)?r:void 0}function Vh(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Yh(t){return!!as&&as in t}function Kh(t){if(t!=null){try{return $a.call(t)}catch{}try{return t+""}catch{}}return""}function Gh(t){return t&&t.length?Uh(t):[]}function Zh(t,e){return t===e||t!==t&&e!==e}function Xh(t){var e=_a(t)?$h.call(t):"";return e==ah||e==lh}function _a(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Jh(){}var Qh=Gh;const Sa=Gn(Qh);var zn={exports:{}};zn.exports;(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,s=2,l=1/0,c=9007199254740991,h="[object Arguments]",p="[object Array]",m="[object Boolean]",x="[object Date]",b="[object Error]",_="[object Function]",A="[object GeneratorFunction]",H="[object Map]",T="[object Number]",Z="[object Object]",K="[object Promise]",de="[object RegExp]",Q="[object Set]",ne="[object String]",ue="[object Symbol]",we="[object WeakMap]",Se="[object ArrayBuffer]",pe="[object DataView]",ie="[object Float32Array]",We="[object Float64Array]",Pe="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",k="[object Uint8Array]",D="[object Uint8ClampedArray]",O="[object Uint16Array]",W="[object Uint32Array]",V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/,ve=/^\./,_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,Ie=/\\(\\)?/g,Ee=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,oe={};oe[ie]=oe[We]=oe[Pe]=oe[N]=oe[M]=oe[k]=oe[D]=oe[O]=oe[W]=!0,oe[h]=oe[p]=oe[Se]=oe[m]=oe[pe]=oe[x]=oe[b]=oe[_]=oe[H]=oe[T]=oe[Z]=oe[de]=oe[Q]=oe[ne]=oe[we]=!1;var Me=typeof Xe=="object"&&Xe&&Xe.Object===Object&&Xe,te=typeof self=="object"&&self&&self.Object===Object&&self,Oe=Me||te||Function("return this")(),lt=e&&!e.nodeType&&e,xe=lt&&!0&&t&&!t.nodeType&&t,ei=xe&&xe.exports===lt,nn=ei&&Me.process,on=function(){try{return nn&&nn.binding("util")}catch{}}(),sn=on&&on.isTypedArray;function ti(a,d){for(var y=-1,S=a?a.length:0,P=Array(S);++y<S;)P[y]=d(a[y],y,a);return P}function _r(a,d){for(var y=-1,S=d.length,P=a.length;++y<S;)a[P+y]=d[y];return a}function ri(a,d){for(var y=-1,S=a?a.length:0;++y<S;)if(d(a[y],y,a))return!0;return!1}function ni(a){return function(d){return d==null?void 0:d[a]}}function ii(a,d){for(var y=-1,S=Array(a);++y<a;)S[y]=d(y);return S}function an(a){return function(d){return a(d)}}function oi(a,d){return a==null?void 0:a[d]}function Sr(a){var d=!1;if(a!=null&&typeof a.toString!="function")try{d=!!(a+"")}catch{}return d}function si(a){var d=-1,y=Array(a.size);return a.forEach(function(S,P){y[++d]=[P,S]}),y}function ai(a,d){return function(y){return a(d(y))}}function li(a){var d=-1,y=Array(a.size);return a.forEach(function(S){y[++d]=S}),y}var ci=Array.prototype,ui=Function.prototype,Jt=Object.prototype,Ar=Oe["__core-js_shared__"],ln=function(){var a=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),cn=ui.toString,nt=Jt.hasOwnProperty,_t=Jt.toString,hi=RegExp("^"+cn.call(nt).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=Oe.Symbol,un=Oe.Uint8Array,di=Jt.propertyIsEnumerable,pi=ci.splice,Rt=Qt?Qt.isConcatSpreadable:void 0,fi=ai(Object.keys,Object),er=kt(Oe,"DataView"),Pt=kt(Oe,"Map"),ct=kt(Oe,"Promise"),tr=kt(Oe,"Set"),kr=kt(Oe,"WeakMap"),Tt=kt(Object,"create"),hn=it(er),gi=it(Pt),dn=it(ct),mi=it(tr),pn=it(kr),rr=Qt?Qt.prototype:void 0,Dt=rr?rr.valueOf:void 0,St=rr?rr.toString:void 0;function Ve(a){var d=-1,y=a?a.length:0;for(this.clear();++d<y;){var S=a[d];this.set(S[0],S[1])}}function fn(){this.__data__=Tt?Tt(null):{}}function yi(a){return this.has(a)&&delete this.__data__[a]}function bi(a){var d=this.__data__;if(Tt){var y=d[a];return y===i?void 0:y}return nt.call(d,a)?d[a]:void 0}function vi(a){var d=this.__data__;return Tt?d[a]!==void 0:nt.call(d,a)}function Er(a,d){var y=this.__data__;return y[a]=Tt&&d===void 0?i:d,this}Ve.prototype.clear=fn,Ve.prototype.delete=yi,Ve.prototype.get=bi,Ve.prototype.has=vi,Ve.prototype.set=Er;function u(a){var d=-1,y=a?a.length:0;for(this.clear();++d<y;){var S=a[d];this.set(S[0],S[1])}}function g(){this.__data__=[]}function $(a){var d=this.__data__,y=ye(d,a);if(y<0)return!1;var S=d.length-1;return y==S?d.pop():pi.call(d,y,1),!0}function v(a){var d=this.__data__,y=ye(d,a);return y<0?void 0:d[y][1]}function E(a){return ye(this.__data__,a)>-1}function B(a,d){var y=this.__data__,S=ye(y,a);return S<0?y.push([a,d]):y[S][1]=d,this}u.prototype.clear=g,u.prototype.delete=$,u.prototype.get=v,u.prototype.has=E,u.prototype.set=B;function z(a){var d=-1,y=a?a.length:0;for(this.clear();++d<y;){var S=a[d];this.set(S[0],S[1])}}function L(){this.__data__={hash:new Ve,map:new(Pt||u),string:new Ve}}function C(a){return yt(this,a).delete(a)}function X(a){return yt(this,a).get(a)}function re(a){return yt(this,a).has(a)}function F(a,d){return yt(this,a).set(a,d),this}z.prototype.clear=L,z.prototype.delete=C,z.prototype.get=X,z.prototype.has=re,z.prototype.set=F;function se(a){var d=-1,y=a?a.length:0;for(this.__data__=new z;++d<y;)this.add(a[d])}function Ye(a){return this.__data__.set(a,i),this}function Ce(a){return this.__data__.has(a)}se.prototype.add=se.prototype.push=Ye,se.prototype.has=Ce;function I(a){this.__data__=new u(a)}function ee(){this.__data__=new u}function q(a){return this.__data__.delete(a)}function fe(a){return this.__data__.get(a)}function Le(a){return this.__data__.has(a)}function ke(a,d){var y=this.__data__;if(y instanceof u){var S=y.__data__;if(!Pt||S.length<r-1)return S.push([a,d]),this;y=this.__data__=new z(S)}return y.set(a,d),this}I.prototype.clear=ee,I.prototype.delete=q,I.prototype.get=fe,I.prototype.has=Le,I.prototype.set=ke;function $e(a,d){var y=Ke(a)||zt(a)?ii(a.length,String):[],S=y.length,P=!!S;for(var j in a)nt.call(a,j)&&!(P&&(j=="length"||Lr(j,S)))&&y.push(j);return y}function ye(a,d){for(var y=a.length;y--;)if(ur(a[y][0],d))return y;return-1}var Fe=_i(gn);function He(a,d,y,S,P){var j=-1,U=a.length;for(y||(y=$n),P||(P=[]);++j<U;){var be=a[j];y(be)?_r(P,be):P[P.length]=be}return P}var ut=Si();function gn(a,d){return a&&ut(a,d,Et)}function Mr(a,d){d=Ht(d,a)?[d]:xn(d);for(var y=0,S=d.length;a!=null&&y<S;)a=a[cr(d[y++])];return y&&y==S?a:void 0}function nr(a){return _t.call(a)}function xi(a,d){return a!=null&&d in Object(a)}function ir(a,d,y,S,P){return a===d?!0:a==null||d==null||!bt(a)&&!vt(d)?a!==a&&d!==d:gt(a,d,ir,y,S,P)}function gt(a,d,y,S,P,j){var U=Ke(a),be=Ke(d),me=p,Re=p;U||(me=ht(a),me=me==h?Z:me),be||(Re=ht(d),Re=Re==h?Z:Re);var Be=me==Z&&!Sr(a),ze=Re==Z&&!Sr(d),Te=me==Re;if(Te&&!Be)return j||(j=new I),U||dr(a)?Ft(a,d,y,S,P,j):At(a,d,me,y,S,P,j);if(!(P&s)){var f=Be&&nt.call(a,"__wrapped__"),w=ze&&nt.call(d,"__wrapped__");if(f||w){var R=f?a.value():a,J=w?d.value():d;return j||(j=new I),y(R,J,S,P,j)}}return Te?(j||(j=new I),sr(a,d,y,S,P,j)):!1}function or(a,d,y,S){var P=y.length,j=P;if(a==null)return!j;for(a=Object(a);P--;){var U=y[P];if(U[2]?U[1]!==a[U[0]]:!(U[0]in a))return!1}for(;++P<j;){U=y[P];var be=U[0],me=a[be],Re=U[1];if(U[2]){if(me===void 0&&!(be in a))return!1}else{var Be=new I,ze;if(!(ze===void 0?ir(Re,me,S,o|s,Be):ze))return!1}}return!0}function mn(a){if(!bt(a)||jr(a))return!1;var d=Sn(a)||Sr(a)?hi:Ee;return d.test(it(a))}function yn(a){return vt(a)&&Dr(a.length)&&!!oe[_t.call(a)]}function bn(a){return typeof a=="function"?a:a==null?Fr:typeof a=="object"?Ke(a)?It(a[0],a[1]):$i(a):An(a)}function vn(a){if(!Cr(a))return fi(a);var d=[];for(var y in Object(a))nt.call(a,y)&&y!="constructor"&&d.push(y);return d}function wi(a,d){var y=-1,S=je(a)?Array(a.length):[];return Fe(a,function(P,j,U){S[++y]=d(P,j,U)}),S}function $i(a){var d=Or(a);return d.length==1&&d[0][2]?lr(d[0][0],d[0][1]):function(y){return y===a||or(y,a,d)}}function It(a,d){return Ht(a)&&ar(d)?lr(cr(a),d):function(y){var S=Ir(y,a);return S===void 0&&S===d?Nr(y,a):ir(d,S,void 0,o|s)}}function Nt(a){return function(d){return Mr(d,a)}}function mt(a){if(typeof a=="string")return a;if(hr(a))return St?St.call(a):"";var d=a+"";return d=="0"&&1/a==-l?"-0":d}function xn(a){return Ke(a)?a:Rr(a)}function _i(a,d){return function(y,S){if(y==null)return y;if(!je(y))return a(y,S);for(var P=y.length,j=-1,U=Object(y);++j<P&&S(U[j],j,U)!==!1;);return y}}function Si(a){return function(d,y,S){for(var P=-1,j=Object(d),U=S(d),be=U.length;be--;){var me=U[++P];if(y(j[me],me,j)===!1)break}return d}}function Ft(a,d,y,S,P,j){var U=P&s,be=a.length,me=d.length;if(be!=me&&!(U&&me>be))return!1;var Re=j.get(a);if(Re&&j.get(d))return Re==d;var Be=-1,ze=!0,Te=P&o?new se:void 0;for(j.set(a,d),j.set(d,a);++Be<be;){var f=a[Be],w=d[Be];if(S)var R=U?S(w,f,Be,d,a,j):S(f,w,Be,a,d,j);if(R!==void 0){if(R)continue;ze=!1;break}if(Te){if(!ri(d,function(J,he){if(!Te.has(he)&&(f===J||y(f,J,S,P,j)))return Te.add(he)})){ze=!1;break}}else if(!(f===w||y(f,w,S,P,j))){ze=!1;break}}return j.delete(a),j.delete(d),ze}function At(a,d,y,S,P,j,U){switch(y){case pe:if(a.byteLength!=d.byteLength||a.byteOffset!=d.byteOffset)return!1;a=a.buffer,d=d.buffer;case Se:return!(a.byteLength!=d.byteLength||!S(new un(a),new un(d)));case m:case x:case T:return ur(+a,+d);case b:return a.name==d.name&&a.message==d.message;case de:case ne:return a==d+"";case H:var be=si;case Q:var me=j&s;if(be||(be=li),a.size!=d.size&&!me)return!1;var Re=U.get(a);if(Re)return Re==d;j|=o,U.set(a,d);var Be=Ft(be(a),be(d),S,P,j,U);return U.delete(a),Be;case ue:if(Dt)return Dt.call(a)==Dt.call(d)}return!1}function sr(a,d,y,S,P,j){var U=P&s,be=Et(a),me=be.length,Re=Et(d),Be=Re.length;if(me!=Be&&!U)return!1;for(var ze=me;ze--;){var Te=be[ze];if(!(U?Te in d:nt.call(d,Te)))return!1}var f=j.get(a);if(f&&j.get(d))return f==d;var w=!0;j.set(a,d),j.set(d,a);for(var R=U;++ze<me;){Te=be[ze];var J=a[Te],he=d[Te];if(S)var ae=U?S(he,J,Te,d,a,j):S(J,he,Te,a,d,j);if(!(ae===void 0?J===he||y(J,he,S,P,j):ae)){w=!1;break}R||(R=Te=="constructor")}if(w&&!R){var qe=a.constructor,xt=d.constructor;qe!=xt&&"constructor"in a&&"constructor"in d&&!(typeof qe=="function"&&qe instanceof qe&&typeof xt=="function"&&xt instanceof xt)&&(w=!1)}return j.delete(a),j.delete(d),w}function yt(a,d){var y=a.__data__;return _n(d)?y[typeof d=="string"?"string":"hash"]:y.map}function Or(a){for(var d=Et(a),y=d.length;y--;){var S=d[y],P=a[S];d[y]=[S,P,ar(P)]}return d}function kt(a,d){var y=oi(a,d);return mn(y)?y:void 0}var ht=nr;(er&&ht(new er(new ArrayBuffer(1)))!=pe||Pt&&ht(new Pt)!=H||ct&&ht(ct.resolve())!=K||tr&&ht(new tr)!=Q||kr&&ht(new kr)!=we)&&(ht=function(a){var d=_t.call(a),y=d==Z?a.constructor:void 0,S=y?it(y):void 0;if(S)switch(S){case hn:return pe;case gi:return H;case dn:return K;case mi:return Q;case pn:return we}return d});function wn(a,d,y){d=Ht(d,a)?[d]:xn(d);for(var S,P=-1,U=d.length;++P<U;){var j=cr(d[P]);if(!(S=a!=null&&y(a,j)))break;a=a[j]}if(S)return S;var U=a?a.length:0;return!!U&&Dr(U)&&Lr(j,U)&&(Ke(a)||zt(a))}function $n(a){return Ke(a)||zt(a)||!!(Rt&&a&&a[Rt])}function Lr(a,d){return d=d??c,!!d&&(typeof a=="number"||Ne.test(a))&&a>-1&&a%1==0&&a<d}function Ht(a,d){if(Ke(a))return!1;var y=typeof a;return y=="number"||y=="symbol"||y=="boolean"||a==null||hr(a)?!0:ce.test(a)||!V.test(a)||d!=null&&a in Object(d)}function _n(a){var d=typeof a;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?a!=="__proto__":a===null}function jr(a){return!!ln&&ln in a}function Cr(a){var d=a&&a.constructor,y=typeof d=="function"&&d.prototype||Jt;return a===y}function ar(a){return a===a&&!bt(a)}function lr(a,d){return function(y){return y==null?!1:y[a]===d&&(d!==void 0||a in Object(y))}}var Rr=Bt(function(a){a=pr(a);var d=[];return ve.test(a)&&d.push(""),a.replace(_e,function(y,S,P,j){d.push(P?j.replace(Ie,"$1"):S||y)}),d});function cr(a){if(typeof a=="string"||hr(a))return a;var d=a+"";return d=="0"&&1/a==-l?"-0":d}function it(a){if(a!=null){try{return cn.call(a)}catch{}try{return a+""}catch{}}return""}function Pr(a,d){return He(Tr(a,d))}function Tr(a,d){var y=Ke(a)?ti:wi;return y(a,bn(d))}function Bt(a,d){if(typeof a!="function"||d&&typeof d!="function")throw new TypeError(n);var y=function(){var S=arguments,P=d?d.apply(this,S):S[0],j=y.cache;if(j.has(P))return j.get(P);var U=a.apply(this,S);return y.cache=j.set(P,U),U};return y.cache=new(Bt.Cache||z),y}Bt.Cache=z;function ur(a,d){return a===d||a!==a&&d!==d}function zt(a){return et(a)&&nt.call(a,"callee")&&(!di.call(a,"callee")||_t.call(a)==h)}var Ke=Array.isArray;function je(a){return a!=null&&Dr(a.length)&&!Sn(a)}function et(a){return vt(a)&&je(a)}function Sn(a){var d=bt(a)?_t.call(a):"";return d==_||d==A}function Dr(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=c}function bt(a){var d=typeof a;return!!a&&(d=="object"||d=="function")}function vt(a){return!!a&&typeof a=="object"}function hr(a){return typeof a=="symbol"||vt(a)&&_t.call(a)==ue}var dr=sn?an(sn):yn;function pr(a){return a==null?"":mt(a)}function Ir(a,d,y){var S=a==null?void 0:Mr(a,d);return S===void 0?y:S}function Nr(a,d){return a!=null&&wn(a,d,xi)}function Et(a){return je(a)?$e(a):vn(a)}function Fr(a){return a}function An(a){return Ht(a)?ni(cr(a)):Nt(a)}t.exports=Pr})(zn,zn.exports);var ed=zn.exports;const Aa=Gn(ed);function td(t,e,r){let n=[];t.filterProperties.length&&t.filterProperties.forEach(o=>{const s={},l=h=>o.format==="date"?Jr(h).unix():parseFloat(h);e.forEach(h=>{var p;if(o.type==="range"){if(Array.isArray(h[o.key])){const m=[l(h[o.key][0]),l(h[o.key][1])];s.min=s.min!==void 0?Math.min(s.min,m[0]):m[0],s.max=s.max!==void 0?Math.max(s.max,m[1]):m[1]}else{const m=l(h[o.key]);s.min=s.min!==void 0?Math.min(s.min,m):m,s.max=s.max!==void 0?Math.max(s.max,m):m}return}Array.isArray(h[o.key])?h[o.key].forEach(m=>{s[m]=void 0}):o.type==="spatial"?(s.geometry=void 0,s.mode=o.mode||"intersects"):(p=o.key)!=null&&p.includes(".")?Sa(Aa(r.items,o.key)).filter(m=>m).forEach(m=>{s[m]=void 0}):s[h[o.key]]=void 0});const c=o.key||o.keys.join("|");r.filters[c]=Object.assign({type:o.type||"multiselect",dirty:o.state?!1:void 0,key:c},o.type==="range"?{min:s.min,max:s.max,format:o.format}:{},o),r.filters[c].state=Object.assign({},s,o.state)}),t.matchAllWhenEmpty!==!1&&(r.results=r.sortResults(e),r.requestUpdate()),t.aggregateResults&&(n=Array.from(new Set(e.reduce((o,s)=>o.concat(s[t.aggregateResults]),[]))).sort((o,s)=>o.localeCompare(s)));const i=[];return Object.values(r.filters).forEach(o=>{o.type==="text"?o.keys.forEach(s=>{i.includes(s)||i.push(s)}):(o.type==="select"||o.type==="multiselect")&&(i.includes(o.key)||i.push(o.key))}),ru(e,Object.assign({keys:i},t.fuseConfig)),n}async function rd(t,e,r){let n;r.externalFilter?n=await su(e,r.filters,t):n=await nu(e,r.filters,t),r.results=r.sortResults(n)}function nd(t,e,r){const n=`filter-${t.key}`.replace("|","-");switch(t.type){case"text":return G`<eox-itemfilter-text
        data-type="filter"
        slot="filter"
        id="${n}"
        .tabIndex=${e}
        .filterObject=${t}
        .unstyled=${r.unstyled}
        @filter=${()=>r.search()}
      ></eox-itemfilter-text>`;case"multiselect":case"select":return G`
        <eox-itemfilter-select
          .inlineMode=${r.inlineMode||!1}
          data-type="filter"
          id="${n}"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          .suggestions="${Sa(Aa(r.items,t.key)).filter(i=>i)}"
          type="${t.type}"
          .unstyled=${r.unstyled}
          @filter=${()=>r.search()}
        ></eox-itemfilter-select>
      `;case"range":return G`
        <eox-itemfilter-range
          id="${n}"
          data-type="filter"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          .unstyled=${r.unstyled}
          @filter=${()=>r.search()}
        ></eox-itemfilter-range>
      `;case"spatial":return G`
        <eox-itemfilter-spatial
          id="${n}"
          data-type="filter"
          .tabIndex=${e}
          .filterObject=${t}
          slot="filter"
          @filter=${()=>r.search()}
        ></eox-itemfilter-spatial>
      `;default:return G``}}function id(t,e){return[...t].sort((r,n)=>r[e.titleProperty].localeCompare(n[e.titleProperty]))}function od(t,e,r){return G`
    ${Ue(t.dirty,()=>G`
        <button
          type="button"
          tabindex=${e}
          slot="reset-button"
          class="reset-icon icon"
          @click=${n=>{const i=n.target.parentElement.querySelector("[slot=filter]");i&&typeof i.reset=="function"&&i.reset(),r.search(),r.requestUpdate()}}
        >
          ${r.unstyled?"Reset":ge}
        </button>
      `)}
  `}function sd(t){t.renderRoot.querySelectorAll("[data-type='filter']").forEach(e=>{typeof e.reset=="function"&&e.reset()}),t.search()}var Cn,Vr,ot,Rn,ka,Ea;class ad extends oa{constructor(){super(),Ze(this,Rn),Ze(this,Cn,[]),Ze(this,Vr,[]),Ze(this,ot,ih),this.items=null,this.filters={},this.results=[],this.selectedResult=null,this.search=Xn(this.searchHandler,100,{leading:!0}),this.aggregateResults=void 0,this.autoSpreadSingle=!1,this.enableHighlighting=!1,this.externalFilter=null,this.filterProperties=[],this.fuseConfig={},this.inlineMode=!1,this.matchAllWhenEmpty=!0,this.showResults=!0,this.titleProperty="title",this.subTitleProperty=void 0,this.idProperty="id",this.expandMultipleFilters=!0,this.expandResults=!0,this.expandMultipleResults=!0,this.unstyled=!1}static get properties(){return{items:{attribute:!1,type:Object},results:{state:!0,attribute:!1,type:Object},filters:{state:!0,attribute:!1,type:Object},selectedResult:{attribute:!1,type:Object},aggregateResults:{attribute:"aggregate-results",type:String},autoSpreadSingle:{attribute:"auto-spread-single",type:Boolean},enableHighlighting:{attribute:"enable-highlighting",type:Boolean},filterProperties:{attribute:!1,type:Array},fuseConfig:{attribute:!1,type:Object},inlineMode:{attribute:"inline-mode",type:Boolean},matchAllWhenEmpty:{attribute:"match-all-when-empty",type:Boolean},showResults:{attribute:"show-result",type:Boolean},idProperty:{attribute:"id-property",type:String},titleProperty:{attribute:"title-property",type:String},subTitleProperty:{attribute:"sub-title-property",type:String},expandMultipleFilters:{attribute:"enable-multiple-filter",type:Boolean},expandResults:{attribute:"expand-result",type:Boolean},expandMultipleResults:{attribute:"expand-multiple-results",type:Boolean},externalFilter:{attribute:!1,type:Function},unstyled:{type:Boolean}}}apply(){Ai(this,Cn,td(tt(this,ot),tt(this,Vr),this)),this.search()}async searchHandler(){await rd(tt(this,ot),tt(this,Vr),this),this.dispatchEvent(new CustomEvent("filter",{detail:{results:this.results,filters:this.filters},bubbles:!0,composed:!0})),this.inlineMode&&this.renderRoot.querySelector("eox-itemfilter-container").updateInline(),this.requestUpdate()}sortResults(e){return id(e,tt(this,ot))}resetFilters(){sd(this)}firstUpdated(e){var r;let n={};ss.map(i=>{n={...n,[i]:this[i]}}),Ai(this,ot,n),Ai(this,Vr,((r=this.items)==null?void 0:r.map((i,o)=>Object.assign({id:i[this.idProperty]||`item-${o}`},i)))||[]),this.apply()}updated(e){ss.map(r=>{if(e.has(r))return this.firstUpdated(),!0})}updateResult(e){this.selectedResult=e.detail,this.dispatchEvent(new CustomEvent("select",{detail:this.selectedResult,bubbles:!0,composed:!0})),this.requestUpdate()}render(){var e;return G`
      <style>
        ${Za}
        ${!this.unstyled&&tn}
        ${!this.unstyled&&Xa}
        ${this.styleOverride}
      </style>
      <form
        id="itemfilter"
        class=${this.inlineMode?"inline":ge}
        @submit="${r=>r.preventDefault()}"
      >
        ${Ue(this.filterProperties,()=>G`
            <eox-itemfilter-container
              .filters=${this.filters}
              .filterProperties=${this.filterProperties}
              .inlineMode=${this.inlineMode||!1}
              @reset=${()=>this.resetFilters()}
              @filter=${()=>this.search()}
            >
              <section slot="section">
                ${Ue(!this.inlineMode,()=>G`
                    <slot name="filterstitle"
                      ><h6 class="main-heading">Filters</h6></slot
                    >
                  `)}
                <ul id="filters">
                  ${Wn(Object.values(this.filters),(r,n)=>G` <li>
                        <eox-itemfilter-expandcontainer
                          .filterObject=${r}
                          @details-toggled=${i=>Xs(i,tt(this,ot),this)}
                          data-details="${r.key}"
                        >
                          ${le(this,Rn,Ea).call(this,r,es(n,1))}
                          ${le(this,Rn,ka).call(this,r,es(n,2))}
                        </eox-itemfilter-expandcontainer>
                      </li>`)}
                </ul>
                ${Ue(!this.inlineMode&&tt(this,ot).filterProperties&&!this.inlineMode&&tt(this,ot).filterProperties&&Xi(this.filters),()=>G`
                    <button
                      type="button"
                      id="filter-reset"
                      class="outline small icon-text reset-icon"
                      data-cy="filter-reset"
                      @click=${()=>this.resetFilters()}
                    >
                      Reset all
                    </a>
                  `)}
              </section>
            </eox-itemfilter-container>
          `)}
        ${Ue(((e=tt(this,ot))==null?void 0:e.showResults)&&this.results,()=>G`
            <eox-itemfilter-results
              .config=${tt(this,ot)}
              .results=${this.results}
              .filters=${this.filters}
              .resultAggregation=${tt(this,Cn)}
              .selectedResult=${this.selectedResult}
              @result=${this.updateResult}
            ></eox-itemfilter-results>
          `)}
      </form>
    `}}Cn=new WeakMap,Vr=new WeakMap,ot=new WeakMap,Rn=new WeakSet,ka=function(t,e){return nd(t,e,this)},Ea=function(t,e){return od(t,e,this)};customElements.define("eox-itemfilter",ad);const ld={slot:"filterstitle",style:{margin:"14px 8px"}},cd={slot:"resultstitle",style:{margin:"14px 8px"}},Ii="float:right; height:15px; padding:4px;  margin-top:-4px; background-color:white;",ud="float:right; height:15px; padding:4px;  margin-top:-4px; background-color:#9bcaeb;",pd={__name:"EodashItemFilter",props:{enableCompare:{type:Boolean,default:!1},filtersTitle:{type:String,default:"Indicators"},resultsTitle:{type:String,default:""},titleProperty:{type:String,default:"title"},aggregateResults:{type:String,default:"themes"},enableHighlighting:{type:Boolean,default:!0},expandMultipleFilters:{type:Boolean,default:!0},expandMultipleResults:{type:Boolean,default:!0},filterProperties:{type:Array,default:()=>[{keys:["title","themes","description"],title:"Search",type:"text"},{key:"themes",title:"Theme Filter",type:"multiselect"}]}},setup(t){const e=t,r=async l=>{var h,p;(p=(h=i.value)==null?void 0:h.shadowRoot)==null||p.querySelectorAll(".compareMapButton").forEach(m=>m.setAttribute("style",Ii));const c=l.detail;c&&(o.resetSelectedCompareSTAC(),await o.loadSelectedSTAC(c.href))},n={titleProperty:e.titleProperty,filterProperties:e.filterProperties,aggregateResults:e.aggregateResults,enableHighlighting:e.enableHighlighting,expandMultipleFilters:e.expandMultipleFilters,expandMultipleResults:e.expandMultipleResults},i=Ma(null),o=Oa(),s=()=>{setTimeout(()=>{var l,c;(l=i.value)==null||l.shadowRoot.querySelectorAll("details>summary").forEach(h=>h.setAttribute("style","width: 100%")),(c=i.value)==null||c.shadowRoot.querySelectorAll("details>div li").forEach(h=>{let p=document.createElement("button");p.className="compareMapButton",p.dataset.id=h.children[0].id,p.onclick=async b=>{var H,T,Z;(T=(H=i.value)==null?void 0:H.shadowRoot)==null||T.querySelectorAll(".compareMapButton").forEach(K=>{K.setAttribute("style",Ii)});const _=b.currentTarget;_==null||_.setAttribute("style",ud);const A=(Z=i.value)==null?void 0:Z.items.find(K=>K.id===(_==null?void 0:_.dataset.id));A&&await o.loadSelectedCompareSTAC(A.href)},p.setAttribute("style",Ii);const m=document.createElementNS("http://www.w3.org/2000/svg","svg"),x=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("width","15"),m.setAttribute("height","15"),m.setAttribute("viewBox","0 0 24 24"),x.setAttribute("d","M19,3H14V5H19V18L14,12V21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M10,18H5L10,12M10,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H10V23H12V1H10V3Z"),m.appendChild(x),p.appendChild(m),h.append(p)})},100)};return La(()=>{var h,p,m;const l=document.createElement("style");l.innerHTML=`
    section {
      margin: 0 !important;
    }
    section button#filter-reset {
      padding: 0 8px;
      top: 8px;
      right: 8px;
    }
  `,(p=(h=i.value)==null?void 0:h.shadowRoot)==null||p.appendChild(l);const c=(m=o.stac)==null?void 0:m.filter(x=>x.rel==="child");i.value.items=c,e.enableCompare&&s()}),(l,c)=>(Ra(),ja("eox-itemfilter",Ca({class:"fill-height"},n,{ref_key:"eoxItemFilter",ref:i,style:{overflow:"auto"},onSelect:r}),[Eo("h4",ld,Mo(t.filtersTitle),1),Eo("h4",cd,Mo(t.resultsTitle),1)],16))}};export{pd as default};

import{G as y,K as p,T as k,p as q,Y as M,q as C,al as O,at as R,au as I,c as S,w as B,o as x,b as W,k as V,I as U,e as D,r as H,P as N}from"./framework.CxY9FQpQ.js";import{g as w,p as b,u as Y,M as j,b as F,a8 as G,D as K,F as X,ai as z,ak as J,al as Q,aa as Z,a6 as _,G as ee,I as te,K as ae,ad as oe,L as ne,ao as se,aq as ie,ar as re,ag as le,aD as ce,aE as ue,au as de}from"./eo-dash.BIm2sYY-.js";import{m as me,V as L}from"./VOverlay-CWQBQEay.CYxasdfQ.js";import{u as fe,f as ge,b as P,d as ve,s as T,e as he,g as ye,n as pe}from"./forwardRefs-BkGHRdGg.WMpafBqK.js";import"./commonjsHelpers.Cpj98o6Y.js";import"./theme.YAEQg5us.js";import"./transition-BVzHCiEq.X3mmN-x7.js";const Pe=b({target:[Object,Array]},"v-dialog-transition"),Ee=w()({name:"VDialogTransition",props:Pe(),setup(e,r){let{slots:a}=r;const s={onBeforeEnter(t){t.style.pointerEvents="none",t.style.visibility="hidden"},async onEnter(t,d){var u;await new Promise(i=>requestAnimationFrame(i)),await new Promise(i=>requestAnimationFrame(i)),t.style.visibility="";const{x:o,y:c,sx:f,sy:g,speed:n}=$(e.target,t),l=P(t,[{transform:`translate(${o}px, ${c}px) scale(${f}, ${g})`,opacity:0},{}],{duration:225*n,easing:ve});(u=A(t))==null||u.forEach(i=>{P(i,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*n,easing:T})}),l.finished.then(()=>d())},onAfterEnter(t){t.style.removeProperty("pointer-events")},onBeforeLeave(t){t.style.pointerEvents="none"},async onLeave(t,d){var u;await new Promise(i=>requestAnimationFrame(i));const{x:o,y:c,sx:f,sy:g,speed:n}=$(e.target,t);P(t,[{},{transform:`translate(${o}px, ${c}px) scale(${f}, ${g})`,opacity:0}],{duration:125*n,easing:he}).finished.then(()=>d()),(u=A(t))==null||u.forEach(i=>{P(i,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*n,easing:T})})},onAfterLeave(t){t.style.removeProperty("pointer-events")}};return()=>e.target?y(k,p({name:"dialog-transition"},s,{css:!1}),a):y(k,{name:"dialog-transition"},a)}});function A(e){var a;const r=(a=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:a.children;return r&&[...r]}function $(e,r){const a=ye(e),s=pe(r),[t,d]=getComputedStyle(r).transformOrigin.split(" ").map(E=>parseFloat(E)),[o,c]=getComputedStyle(r).getPropertyValue("--v-overlay-anchor-origin").split(" ");let f=a.left+a.width/2;o==="left"||c==="left"?f-=a.width/2:(o==="right"||c==="right")&&(f+=a.width/2);let g=a.top+a.height/2;o==="top"||c==="top"?g-=a.height/2:(o==="bottom"||c==="bottom")&&(g+=a.height/2);const n=a.width/s.width,l=a.height/s.height,u=Math.max(1,n,l),i=n/u||0,v=l/u||0,m=s.width*s.height/(window.innerWidth*window.innerHeight),h=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:f-(t+s.left),y:g-(d+s.top),sx:i,sy:v,speed:h}}const xe=b({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...me({origin:"center center",scrollStrategy:"block",transition:{component:Ee},zIndex:2400})},"VDialog"),Ve=w()({name:"VDialog",props:xe(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:a,slots:s}=r;const t=Y(e,"modelValue"),{scopeId:d}=fe(),o=q();function c(n){var i,v;const l=n.relatedTarget,u=n.target;if(l!==u&&((i=o.value)!=null&&i.contentEl)&&((v=o.value)!=null&&v.globalTop)&&![document,o.value.contentEl].includes(u)&&!o.value.contentEl.contains(u)){const m=ue(o.value.contentEl);if(!m.length)return;const h=m[0],E=m[m.length-1];l===h?E.focus():h.focus()}}M(()=>{document.removeEventListener("focusin",c)}),j&&C(()=>t.value&&e.retainFocus,n=>{n?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0});function f(){var n;a("afterEnter"),(n=o.value)!=null&&n.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function g(){a("afterLeave")}return C(t,async n=>{var l;n||(await N(),(l=o.value.activatorEl)==null||l.focus({preventScroll:!0}))}),F(()=>{const n=L.filterProps(e),l=p({"aria-haspopup":"dialog"},e.activatorProps),u=p({tabindex:-1},e.contentProps);return y(L,p({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},n,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,"aria-modal":"true",activatorProps:l,contentProps:u,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:f,onAfterLeave:g},d),{activator:s.activator,default:function(){for(var i=arguments.length,v=new Array(i),m=0;m<i;m++)v[m]=arguments[m];return y(de,{root:"VDialog"},{default:()=>{var h;return[(h=s.default)==null?void 0:h.call(s,...v)]}})}})}),ge({},o)}}),we=b({color:String,...G(),...K(),...X(),...z(),...J(),...Q(),...Z(),..._(),...ee()},"VSheet"),be=w()({name:"VSheet",props:we(),setup(e,r){let{slots:a}=r;const{themeClasses:s}=te(e),{backgroundColorClasses:t,backgroundColorStyles:d}=ae(O(e,"color")),{borderClasses:o}=oe(e),{dimensionStyles:c}=ne(e),{elevationClasses:f}=se(e),{locationStyles:g}=ie(e),{positionClasses:n}=re(e),{roundedClasses:l}=le(e);return F(()=>y(e.tag,{class:["v-sheet",s.value,t.value,o.value,f.value,n.value,l.value,e.class],style:[d.value,c.value,g.value,e.style]},a)),{}}}),ke={key:1},$e={__name:"PopUp",props:R({widget:{type:Object,default:void 0}},{modelValue:{type:Boolean,required:!0,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const r=I(e,"modelValue"),a=e,[s]=ce([a==null?void 0:a.widget]);return(t,d)=>(x(),S("span",null,[y(Ve,{"max-width":"500px","max-height":"500px",absolute:"",scrollable:"","scroll-strategy":"block","close-on-back":"",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=o=>r.value=o)},{default:B(()=>[y(be,null,{default:B(()=>[e.widget?(x(),W(U(V(s).component),p({key:V(s).id},V(s).props),null,16)):D("v-if",!0),t.$slots.default?(x(),S("span",ke,[H(t.$slots,"default")])):D("v-if",!0)]),_:3})]),_:3},8,["modelValue"])]))}};export{$e as default};

import{a2 as p,f as s,v as f,a3 as g,k as u,a4 as x,J as v,$ as y,t as l,a5 as d,a6 as k,O as E,a7 as C,a8 as w,a9 as H,aa as _}from"./eo-dash.DpEsFCu4.js";import"./framework.CXycA2KK.js";class $ extends HTMLDetailsElement{constructor(){super()}connectedCallback(){this.el=this,this.summary=this.querySelector("summary"),this.content=this.lastElementChild,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",i=>this.onClick(i))}onClick(i){i==null||i.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.doOpen():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const i=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[i,t]},{duration:300,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}doOpen(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand()),this.parentElement.querySelectorAll("details[open][exclusive]").forEach(i=>{i!==this&&i.onClick()})}expand(){this.isExpanding=!0;const i=`${this.el.offsetHeight}px`,t=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[i,t]},{duration:300,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(i){this.el.open=i,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}customElements.define("animated-details",$,{extends:"details"});const F={__name:"WidgetsContainer",props:{widgets:{type:Array,required:!0}},setup(o){const i=p(o.widgets),t=s([]),h=s([]),r=s(""),m=s(0);return f(()=>{var n;m.value=h.value.reduce((e,a)=>e+=a.clientHeight,0);const{mainRect:c}=g();r.value=(((n=t.value[0].parentElement)==null?void 0:n.scrollHeight)??0)-m.value-c.value.top+"px"}),(c,n)=>(l(!0),u(y,null,x(v(i),(e,a)=>(l(),u("details",{is:"animated-details",ref_for:!0,ref_key:"detailsEls",ref:t,key:a,class:"overflow-auto",exclusive:""},[d("summary",{ref_for:!0,ref_key:"summaryEls",ref:h},k(e.value.title),513),d("span",{style:_({height:r.value}),class:"d-flex flex-column"},[(l(),E(H(e.value.component),C(w(e.value.props)),null,16))],4)]))),128))}};export{F as default};
